package Erwine.Leonard.T.wguscheduler356334.util;

import org.junit.Assert;
import org.junit.Test;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;
import java.util.regex.Pattern;

import Erwine.Leonard.T.wguscheduler356334.TestHelper;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;

public class StringLineIteratorTest {

    @Test
    public void nullTest() {
        String source = null;
        StringLineIterator target = StringLineIterator.create(source, false, false);
        assertFalse(target.hasNext());
        target = StringLineIterator.create(source, false, true);
        assertFalse(target.hasNext());
        target = StringLineIterator.create(source, true, false);
        assertFalse(target.hasNext());
        target = StringLineIterator.create(source, true, true);
        assertFalse(target.hasNext());
    }

    @Test
    public void emptyTest() {
        String source = "";

        StringLineIterator target = StringLineIterator.create(source, false, false);
        assertTrue(target.hasNext());
        String actual = target.next();
        assertEquals(source, actual);
        assertFalse(target.hasNext());

        target = StringLineIterator.create(source, false, true);
        assertTrue(target.hasNext());
        actual = target.next();
        assertEquals(source, actual);
        assertFalse(target.hasNext());

        target = StringLineIterator.create(source, true, false);
        assertTrue(target.hasNext());
        actual = target.next();
        assertEquals(source, actual);
        assertFalse(target.hasNext());

        target = StringLineIterator.create(source, true, true);
        assertTrue(target.hasNext());
        actual = target.next();
        assertEquals(source, actual);
        assertFalse(target.hasNext());
    }

    @Test
    public void noTrimTest() {
        TestData[] testData = new TestData[]{
                new TestData(new String[]{""}, ""),
                new TestData(new String[]{"Test"}, "Test"),
                new TestData(new String[]{"_"}, "_"),
                new TestData(new String[]{"\u00A0"}, "\u00A0"),
                new TestData(new String[]{"", ""}, "\n", "\r\n", "\r", "\f", "\u0085", "\u2028", "\u2029"),
                new TestData(new String[]{"", "", ""}, "\n\n", "\n\r\n", "\n\r", "\n\f", "\n\u0085", "\n\u2028", "\n\u2029", "\r\n\n", "\r\n\r\n", "\r\n\r", "\r\n\f",
                        "\r\n\u0085", "\r\n\u2028", "\r\n\u2029", "\r\r\n", "\r\r", "\r\f", "\r\u0085", "\r\u2028", "\r\u2029", "\f\n", "\f\r\n", "\f\r", "\f\f", "\f\u0085",
                        "\f\u2028", "\f\u2029", "\u0085\n", "\u0085\r\n", "\u0085\r", "\u0085\f", "\u0085\u0085", "\u0085\u2028", "\u0085\u2029", "\u2028\n", "\u2028\r\n",
                        "\u2028\r", "\u2028\f", "\u2028\u0085", "\u2028\u2028", "\u2028\u2029", "\u2029\n", "\u2029\r\n", "\u2029\r", "\u2029\f", "\u2029\u0085",
                        "\u2029\u2028", "\u2029\u2029"),
                new TestData(new String[]{" "}, " "),
                new TestData(new String[]{"  "}, "  "),
                new TestData(new String[]{" \t"}, " \t"),
                new TestData(new String[]{" \u1680"}, " \u1680"),
                new TestData(new String[]{" ", " "}, " \n ", " \r\n ", " \r ", " \f ", " \u0085 ", " \u2028 ", " \u2029 "),
                new TestData(new String[]{"", " "}, "\n ", "\r\n ", "\r ", "\f ", "\u0085 ", "\u2028 ", "\u2029 "),
                new TestData(new String[]{"", " ", ""}, "\n \n", "\r\n \r\n", "\r \r", "\f \f", "\u0085 \u0085", "\u2028 \u2028", "\u2029 \u2029"),
                new TestData(new String[]{" ", "", " "}, " \n\n ", " \n\r\n ", " \n\r ", " \n\f ", " \n\u0085 ", " \n\u2028 ", " \n\u2029 ", " \r\n\n ", " \r\n\r\n ",
                        " \r\n\r ", " \r\n\f ", " \r\n\u0085 ", " \r\n\u2028 ", " \r\n\u2029 ", " \r\r\n ", " \r\r ", " \r\f ", " \r\u0085 ", " \r\u2028 ", " \r\u2029 ",
                        " \f\n ", " \f\r\n ", " \f\r ", " \f\f ", " \f\u0085 ", " \f\u2028 ", " \f\u2029 ", " \u0085\n ", " \u0085\r\n ", " \u0085\r ", " \u0085\f ",
                        " \u0085\u0085 ", " \u0085\u2028 ", " \u0085\u2029 ", " \u2028\n ", " \u2028\r\n ", " \u2028\r ", " \u2028\f ", " \u2028\u0085 ", " \u2028\u2028 ",
                        " \u2028\u2029 ", " \u2029\n ", " \u2029\r\n ", " \u2029\r ", " \u2029\f ", " \u2029\u0085 ", " \u2029\u2028 ", " \u2029\u2029 "),
                new TestData(new String[]{"", "", " "}, "\n\n ", "\n\r\n ", "\n\r ", "\n\f ", "\n\u0085 ", "\n\u2028 ", "\n\u2029 ", "\r\n\n ", "\r\n\r\n ", "\r\n\r ",
                        "\r\n\f ", "\r\n\u0085 ", "\r\n\u2028 ", "\r\n\u2029 ", "\r\r\n ", "\r\r ", "\r\f ", "\r\u0085 ", "\r\u2028 ", "\r\u2029 ", "\f\n ", "\f\r\n ",
                        "\f\r ", "\f\f ", "\f\u0085 ", "\f\u2028 ", "\f\u2029 ", "\u0085\n ", "\u0085\r\n ", "\u0085\r ", "\u0085\f ", "\u0085\u0085 ", "\u0085\u2028 ",
                        "\u0085\u2029 ", "\u2028\n ", "\u2028\r\n ", "\u2028\r ", "\u2028\f ", "\u2028\u0085 ", "\u2028\u2028 ", "\u2028\u2029 ", "\u2029\n ", "\u2029\r\n ",
                        "\u2029\r ", "\u2029\f ", "\u2029\u0085 ", "\u2029\u2028 ", "\u2029\u2029 "),
                new TestData(new String[]{"", "", " ", "", ""}, "\n\n \n\n", "\n\r\n \n\r\n", "\n\r \n\r", "\n\f \n\f", "\n\u0085 \n\u0085", "\n\u2028 \n\u2028",
                        "\n\u2029 \n\u2029", "\r\n\n \r\n\n", "\r\n\r\n \r\n\r\n", "\r\n\r \r\n\r", "\r\n\f \r\n\f", "\r\n\u0085 \r\n\u0085", "\r\n\u2028 \r\n\u2028",
                        "\r\n\u2029 \r\n\u2029", "\r\r\n \r\r\n", "\r\r \r\r", "\r\f \r\f", "\r\u0085 \r\u0085", "\r\u2028 \r\u2028", "\r\u2029 \r\u2029", "\f\n \f\n",
                        "\f\r\n \f\r\n", "\f\r \f\r", "\f\f \f\f", "\f\u0085 \f\u0085", "\f\u2028 \f\u2028", "\f\u2029 \f\u2029", "\u0085\n \u0085\n",
                        "\u0085\r\n \u0085\r\n", "\u0085\r \u0085\r", "\u0085\f \u0085\f", "\u0085\u0085 \u0085\u0085", "\u0085\u2028 \u0085\u2028",
                        "\u0085\u2029 \u0085\u2029", "\u2028\n \u2028\n", "\u2028\r\n \u2028\r\n", "\u2028\r \u2028\r", "\u2028\f \u2028\f", "\u2028\u0085 \u2028\u0085",
                        "\u2028\u2028 \u2028\u2028", "\u2028\u2029 \u2028\u2029", "\u2029\n \u2029\n", "\u2029\r\n \u2029\r\n", "\u2029\r \u2029\r", "\u2029\f \u2029\f",
                        "\u2029\u0085 \u2029\u0085", "\u2029\u2028 \u2029\u2028", "\u2029\u2029 \u2029\u2029"),
                new TestData(new String[]{"\t"}, "\t"),
                new TestData(new String[]{"\t "}, "\t "),
                new TestData(new String[]{"\t\t"}, "\t\t"),
                new TestData(new String[]{"\t\u1680"}, "\t\u1680"),
                new TestData(new String[]{"\t", "\t"}, "\t\n\t", "\t\r\n\t", "\t\r\t", "\t\f\t", "\t\u0085\t", "\t\u2028\t", "\t\u2029\t"),
                new TestData(new String[]{"", "\t"}, "\n\t", "\r\n\t", "\r\t", "\f\t", "\u0085\t", "\u2028\t", "\u2029\t"),
                new TestData(new String[]{"", "\t", ""}, "\n\t\n", "\r\n\t\r\n", "\r\t\r", "\f\t\f", "\u0085\t\u0085", "\u2028\t\u2028", "\u2029\t\u2029"),
                new TestData(new String[]{"\t", "", "\t"}, "\t\n\n\t", "\t\n\r\n\t", "\t\n\r\t", "\t\n\f\t", "\t\n\u0085\t", "\t\n\u2028\t", "\t\n\u2029\t",
                        "\t\r\n\n\t", "\t\r\n\r\n\t", "\t\r\n\r\t", "\t\r\n\f\t", "\t\r\n\u0085\t", "\t\r\n\u2028\t", "\t\r\n\u2029\t", "\t\r\r\n\t", "\t\r\r\t", "\t\r\f\t",
                        "\t\r\u0085\t", "\t\r\u2028\t", "\t\r\u2029\t", "\t\f\n\t", "\t\f\r\n\t", "\t\f\r\t", "\t\f\f\t", "\t\f\u0085\t", "\t\f\u2028\t", "\t\f\u2029\t",
                        "\t\u0085\n\t", "\t\u0085\r\n\t", "\t\u0085\r\t", "\t\u0085\f\t", "\t\u0085\u0085\t", "\t\u0085\u2028\t", "\t\u0085\u2029\t", "\t\u2028\n\t",
                        "\t\u2028\r\n\t", "\t\u2028\r\t", "\t\u2028\f\t", "\t\u2028\u0085\t", "\t\u2028\u2028\t", "\t\u2028\u2029\t", "\t\u2029\n\t", "\t\u2029\r\n\t",
                        "\t\u2029\r\t", "\t\u2029\f\t", "\t\u2029\u0085\t", "\t\u2029\u2028\t", "\t\u2029\u2029\t"),
                new TestData(new String[]{"", "", "\t"}, "\n\n\t", "\n\r\n\t", "\n\r\t", "\n\f\t", "\n\u0085\t", "\n\u2028\t", "\n\u2029\t", "\r\n\n\t", "\r\n\r\n\t",
                        "\r\n\r\t", "\r\n\f\t", "\r\n\u0085\t", "\r\n\u2028\t", "\r\n\u2029\t", "\r\r\n\t", "\r\r\t", "\r\f\t", "\r\u0085\t", "\r\u2028\t", "\r\u2029\t",
                        "\f\n\t", "\f\r\n\t", "\f\r\t", "\f\f\t", "\f\u0085\t", "\f\u2028\t", "\f\u2029\t", "\u0085\n\t", "\u0085\r\n\t", "\u0085\r\t", "\u0085\f\t",
                        "\u0085\u0085\t", "\u0085\u2028\t", "\u0085\u2029\t", "\u2028\n\t", "\u2028\r\n\t", "\u2028\r\t", "\u2028\f\t", "\u2028\u0085\t", "\u2028\u2028\t",
                        "\u2028\u2029\t", "\u2029\n\t", "\u2029\r\n\t", "\u2029\r\t", "\u2029\f\t", "\u2029\u0085\t", "\u2029\u2028\t", "\u2029\u2029\t"),
                new TestData(new String[]{"", "", "\t", "", ""}, "\n\n\t\n\n", "\n\r\n\t\n\r\n", "\n\r\t\n\r", "\n\f\t\n\f", "\n\u0085\t\n\u0085", "\n\u2028\t\n\u2028",
                        "\n\u2029\t\n\u2029", "\r\n\n\t\r\n\n", "\r\n\r\n\t\r\n\r\n", "\r\n\r\t\r\n\r", "\r\n\f\t\r\n\f", "\r\n\u0085\t\r\n\u0085", "\r\n\u2028\t\r\n\u2028",
                        "\r\n\u2029\t\r\n\u2029", "\r\r\n\t\r\r\n", "\r\r\t\r\r", "\r\f\t\r\f", "\r\u0085\t\r\u0085", "\r\u2028\t\r\u2028", "\r\u2029\t\r\u2029",
                        "\f\n\t\f\n", "\f\r\n\t\f\r\n", "\f\r\t\f\r", "\f\f\t\f\f", "\f\u0085\t\f\u0085", "\f\u2028\t\f\u2028", "\f\u2029\t\f\u2029", "\u0085\n\t\u0085\n",
                        "\u0085\r\n\t\u0085\r\n", "\u0085\r\t\u0085\r", "\u0085\f\t\u0085\f", "\u0085\u0085\t\u0085\u0085", "\u0085\u2028\t\u0085\u2028",
                        "\u0085\u2029\t\u0085\u2029", "\u2028\n\t\u2028\n", "\u2028\r\n\t\u2028\r\n", "\u2028\r\t\u2028\r", "\u2028\f\t\u2028\f",
                        "\u2028\u0085\t\u2028\u0085", "\u2028\u2028\t\u2028\u2028", "\u2028\u2029\t\u2028\u2029", "\u2029\n\t\u2029\n", "\u2029\r\n\t\u2029\r\n",
                        "\u2029\r\t\u2029\r", "\u2029\f\t\u2029\f", "\u2029\u0085\t\u2029\u0085", "\u2029\u2028\t\u2029\u2028", "\u2029\u2029\t\u2029\u2029"),
                new TestData(new String[]{"\u1680"}, "\u1680"),
                new TestData(new String[]{"\u1680 "}, "\u1680 "),
                new TestData(new String[]{"\u1680\t"}, "\u1680\t"),
                new TestData(new String[]{"\u1680\u1680"}, "\u1680\u1680"),
                new TestData(new String[]{"\u1680", "\u1680"}, "\u1680\n\u1680", "\u1680\r\n\u1680", "\u1680\r\u1680", "\u1680\f\u1680", "\u1680\u0085\u1680",
                        "\u1680\u2028\u1680", "\u1680\u2029\u1680"),
                new TestData(new String[]{"", "\u1680"}, "\n\u1680", "\r\n\u1680", "\r\u1680", "\f\u1680", "\u0085\u1680", "\u2028\u1680", "\u2029\u1680"),
                new TestData(new String[]{"", "\u1680", ""}, "\n\u1680\n", "\r\n\u1680\r\n", "\r\u1680\r", "\f\u1680\f", "\u0085\u1680\u0085", "\u2028\u1680\u2028",
                        "\u2029\u1680\u2029"),
                new TestData(new String[]{"\u1680", "", "\u1680"}, "\u1680\n\n\u1680", "\u1680\n\r\n\u1680", "\u1680\n\r\u1680", "\u1680\n\f\u1680",
                        "\u1680\n\u0085\u1680", "\u1680\n\u2028\u1680", "\u1680\n\u2029\u1680", "\u1680\r\n\n\u1680", "\u1680\r\n\r\n\u1680", "\u1680\r\n\r\u1680",
                        "\u1680\r\n\f\u1680", "\u1680\r\n\u0085\u1680", "\u1680\r\n\u2028\u1680", "\u1680\r\n\u2029\u1680", "\u1680\r\r\n\u1680", "\u1680\r\r\u1680",
                        "\u1680\r\f\u1680", "\u1680\r\u0085\u1680", "\u1680\r\u2028\u1680", "\u1680\r\u2029\u1680", "\u1680\f\n\u1680", "\u1680\f\r\n\u1680",
                        "\u1680\f\r\u1680", "\u1680\f\f\u1680", "\u1680\f\u0085\u1680", "\u1680\f\u2028\u1680", "\u1680\f\u2029\u1680", "\u1680\u0085\n\u1680",
                        "\u1680\u0085\r\n\u1680", "\u1680\u0085\r\u1680", "\u1680\u0085\f\u1680", "\u1680\u0085\u0085\u1680", "\u1680\u0085\u2028\u1680",
                        "\u1680\u0085\u2029\u1680", "\u1680\u2028\n\u1680", "\u1680\u2028\r\n\u1680", "\u1680\u2028\r\u1680", "\u1680\u2028\f\u1680",
                        "\u1680\u2028\u0085\u1680", "\u1680\u2028\u2028\u1680", "\u1680\u2028\u2029\u1680", "\u1680\u2029\n\u1680", "\u1680\u2029\r\n\u1680",
                        "\u1680\u2029\r\u1680", "\u1680\u2029\f\u1680", "\u1680\u2029\u0085\u1680", "\u1680\u2029\u2028\u1680", "\u1680\u2029\u2029\u1680"),
                new TestData(new String[]{"", "", "\u1680"}, "\n\n\u1680", "\n\r\n\u1680", "\n\r\u1680", "\n\f\u1680", "\n\u0085\u1680", "\n\u2028\u1680",
                        "\n\u2029\u1680", "\r\n\n\u1680", "\r\n\r\n\u1680", "\r\n\r\u1680", "\r\n\f\u1680", "\r\n\u0085\u1680", "\r\n\u2028\u1680", "\r\n\u2029\u1680",
                        "\r\r\n\u1680", "\r\r\u1680", "\r\f\u1680", "\r\u0085\u1680", "\r\u2028\u1680", "\r\u2029\u1680", "\f\n\u1680", "\f\r\n\u1680", "\f\r\u1680",
                        "\f\f\u1680", "\f\u0085\u1680", "\f\u2028\u1680", "\f\u2029\u1680", "\u0085\n\u1680", "\u0085\r\n\u1680", "\u0085\r\u1680", "\u0085\f\u1680",
                        "\u0085\u0085\u1680", "\u0085\u2028\u1680", "\u0085\u2029\u1680", "\u2028\n\u1680", "\u2028\r\n\u1680", "\u2028\r\u1680", "\u2028\f\u1680",
                        "\u2028\u0085\u1680", "\u2028\u2028\u1680", "\u2028\u2029\u1680", "\u2029\n\u1680", "\u2029\r\n\u1680", "\u2029\r\u1680", "\u2029\f\u1680",
                        "\u2029\u0085\u1680", "\u2029\u2028\u1680", "\u2029\u2029\u1680"),
                new TestData(new String[]{"", "", "\u1680", "", ""}, "\n\n\u1680\n\n", "\n\r\n\u1680\n\r\n", "\n\r\u1680\n\r", "\n\f\u1680\n\f",
                        "\n\u0085\u1680\n\u0085", "\n\u2028\u1680\n\u2028", "\n\u2029\u1680\n\u2029", "\r\n\n\u1680\r\n\n", "\r\n\r\n\u1680\r\n\r\n", "\r\n\r\u1680\r\n\r",
                        "\r\n\f\u1680\r\n\f", "\r\n\u0085\u1680\r\n\u0085", "\r\n\u2028\u1680\r\n\u2028", "\r\n\u2029\u1680\r\n\u2029", "\r\r\n\u1680\r\r\n",
                        "\r\r\u1680\r\r", "\r\f\u1680\r\f", "\r\u0085\u1680\r\u0085", "\r\u2028\u1680\r\u2028", "\r\u2029\u1680\r\u2029", "\f\n\u1680\f\n",
                        "\f\r\n\u1680\f\r\n", "\f\r\u1680\f\r", "\f\f\u1680\f\f", "\f\u0085\u1680\f\u0085", "\f\u2028\u1680\f\u2028", "\f\u2029\u1680\f\u2029",
                        "\u0085\n\u1680\u0085\n", "\u0085\r\n\u1680\u0085\r\n", "\u0085\r\u1680\u0085\r", "\u0085\f\u1680\u0085\f", "\u0085\u0085\u1680\u0085\u0085",
                        "\u0085\u2028\u1680\u0085\u2028", "\u0085\u2029\u1680\u0085\u2029", "\u2028\n\u1680\u2028\n", "\u2028\r\n\u1680\u2028\r\n", "\u2028\r\u1680\u2028\r",
                        "\u2028\f\u1680\u2028\f", "\u2028\u0085\u1680\u2028\u0085", "\u2028\u2028\u1680\u2028\u2028", "\u2028\u2029\u1680\u2028\u2029",
                        "\u2029\n\u1680\u2029\n", "\u2029\r\n\u1680\u2029\r\n", "\u2029\r\u1680\u2029\r", "\u2029\f\u1680\u2029\f", "\u2029\u0085\u1680\u2029\u0085",
                        "\u2029\u2028\u1680\u2029\u2028", "\u2029\u2029\u1680\u2029\u2029"),
                new TestData(new String[]{"Test Data"}, "Test Data"),
                new TestData(new String[]{"Test  Data"}, "Test  Data"),
                new TestData(new String[]{"Test "}, "Test "),
                new TestData(new String[]{" Test"}, " Test"),
                new TestData(new String[]{" Test "}, " Test "),
                new TestData(new String[]{"  Test  "}, "  Test  "),
                new TestData(new String[]{" Test ", " Data"}, " Test \n Data", " Test \r\n Data", " Test \r Data", " Test \f Data", " Test \u0085 Data",
                        " Test \u2028 Data", " Test \u2029 Data"),
                new TestData(new String[]{"Test ", " Data "}, "Test \n Data ", "Test \r\n Data ", "Test \r Data ", "Test \f Data ", "Test \u0085 Data ",
                        "Test \u2028 Data ", "Test \u2029 Data "),
                new TestData(new String[]{" ", " Test"}, " \n Test", " \r\n Test", " \r Test", " \f Test", " \u0085 Test", " \u2028 Test", " \u2029 Test"),
                new TestData(new String[]{"", " Test "}, "\n Test ", "\r\n Test ", "\r Test ", "\f Test ", "\u0085 Test ", "\u2028 Test ", "\u2029 Test "),
                new TestData(new String[]{"", " Test ", ""}, "\n Test \n", "\r\n Test \r\n", "\r Test \r", "\f Test \f", "\u0085 Test \u0085", "\u2028 Test \u2028",
                        "\u2029 Test \u2029"),
                new TestData(new String[]{" ", " Test ", " "}, " \n Test \n ", " \r\n Test \r\n ", " \r Test \r ", " \f Test \f ", " \u0085 Test \u0085 ",
                        " \u2028 Test \u2028 ", " \u2029 Test \u2029 "),
                new TestData(new String[]{"Test\tData"}, "Test\tData"),
                new TestData(new String[]{"Test\t\tData"}, "Test\t\tData"),
                new TestData(new String[]{"Test\t"}, "Test\t"),
                new TestData(new String[]{"\tTest"}, "\tTest"),
                new TestData(new String[]{"\tTest\t"}, "\tTest\t"),
                new TestData(new String[]{"\t\tTest\t\t"}, "\t\tTest\t\t"),
                new TestData(new String[]{"\tTest\t", "\tData"}, "\tTest\t\n\tData", "\tTest\t\r\n\tData", "\tTest\t\r\tData", "\tTest\t\f\tData",
                        "\tTest\t\u0085\tData", "\tTest\t\u2028\tData", "\tTest\t\u2029\tData"),
                new TestData(new String[]{"Test\t", "\tData\t"}, "Test\t\n\tData\t", "Test\t\r\n\tData\t", "Test\t\r\tData\t", "Test\t\f\tData\t",
                        "Test\t\u0085\tData\t", "Test\t\u2028\tData\t", "Test\t\u2029\tData\t"),
                new TestData(new String[]{"\t", "\tTest"}, "\t\n\tTest", "\t\r\n\tTest", "\t\r\tTest", "\t\f\tTest", "\t\u0085\tTest", "\t\u2028\tTest",
                        "\t\u2029\tTest"),
                new TestData(new String[]{"", "\tTest\t"}, "\n\tTest\t", "\r\n\tTest\t", "\r\tTest\t", "\f\tTest\t", "\u0085\tTest\t", "\u2028\tTest\t",
                        "\u2029\tTest\t"),
                new TestData(new String[]{"", "\tTest\t", ""}, "\n\tTest\t\n", "\r\n\tTest\t\r\n", "\r\tTest\t\r", "\f\tTest\t\f", "\u0085\tTest\t\u0085",
                        "\u2028\tTest\t\u2028", "\u2029\tTest\t\u2029"),
                new TestData(new String[]{"\t", "\tTest\t", "\t"}, "\t\n\tTest\t\n\t", "\t\r\n\tTest\t\r\n\t", "\t\r\tTest\t\r\t", "\t\f\tTest\t\f\t",
                        "\t\u0085\tTest\t\u0085\t", "\t\u2028\tTest\t\u2028\t", "\t\u2029\tTest\t\u2029\t"),
                new TestData(new String[]{"Test\u1680Data"}, "Test\u1680Data"),
                new TestData(new String[]{"Test\u1680\u1680Data"}, "Test\u1680\u1680Data"),
                new TestData(new String[]{"Test\u1680"}, "Test\u1680"),
                new TestData(new String[]{"\u1680Test"}, "\u1680Test"),
                new TestData(new String[]{"\u1680Test\u1680"}, "\u1680Test\u1680"),
                new TestData(new String[]{"\u1680\u1680Test\u1680\u1680"}, "\u1680\u1680Test\u1680\u1680"),
                new TestData(new String[]{"\u1680Test\u1680", "\u1680Data"}, "\u1680Test\u1680\n\u1680Data", "\u1680Test\u1680\r\n\u1680Data",
                        "\u1680Test\u1680\r\u1680Data", "\u1680Test\u1680\f\u1680Data", "\u1680Test\u1680\u0085\u1680Data", "\u1680Test\u1680\u2028\u1680Data",
                        "\u1680Test\u1680\u2029\u1680Data"),
                new TestData(new String[]{"Test\u1680", "\u1680Data\u1680"}, "Test\u1680\n\u1680Data\u1680", "Test\u1680\r\n\u1680Data\u1680",
                        "Test\u1680\r\u1680Data\u1680", "Test\u1680\f\u1680Data\u1680", "Test\u1680\u0085\u1680Data\u1680", "Test\u1680\u2028\u1680Data\u1680",
                        "Test\u1680\u2029\u1680Data\u1680"),
                new TestData(new String[]{"\u1680", "\u1680Test"}, "\u1680\n\u1680Test", "\u1680\r\n\u1680Test", "\u1680\r\u1680Test", "\u1680\f\u1680Test",
                        "\u1680\u0085\u1680Test", "\u1680\u2028\u1680Test", "\u1680\u2029\u1680Test"),
                new TestData(new String[]{"", "\u1680Test\u1680"}, "\n\u1680Test\u1680", "\r\n\u1680Test\u1680", "\r\u1680Test\u1680", "\f\u1680Test\u1680",
                        "\u0085\u1680Test\u1680", "\u2028\u1680Test\u1680", "\u2029\u1680Test\u1680"),
                new TestData(new String[]{"", "\u1680Test\u1680", ""}, "\n\u1680Test\u1680\n", "\r\n\u1680Test\u1680\r\n", "\r\u1680Test\u1680\r",
                        "\f\u1680Test\u1680\f", "\u0085\u1680Test\u1680\u0085", "\u2028\u1680Test\u1680\u2028", "\u2029\u1680Test\u1680\u2029"),
                new TestData(new String[]{"\u1680", "\u1680Test\u1680", "\u1680"}, "\u1680\n\u1680Test\u1680\n\u1680", "\u1680\r\n\u1680Test\u1680\r\n\u1680",
                        "\u1680\r\u1680Test\u1680\r\u1680", "\u1680\f\u1680Test\u1680\f\u1680", "\u1680\u0085\u1680Test\u1680\u0085\u1680",
                        "\u1680\u2028\u1680Test\u1680\u2028\u1680", "\u1680\u2029\u1680Test\u1680\u2029\u1680"),
                new TestData(new String[]{"Test", "Data"}, "Test\nData", "Test\r\nData", "Test\rData", "Test\fData", "Test\u0085Data", "Test\u2028Data",
                        "Test\u2029Data"),
                new TestData(new String[]{"", "Test"}, "\nTest", "\r\nTest", "\rTest", "\fTest", "\u0085Test", "\u2028Test", "\u2029Test"),
                new TestData(new String[]{"", "Test", ""}, "\nTest\n", "\r\nTest\r\n", "\rTest\r", "\fTest\f", "\u0085Test\u0085", "\u2028Test\u2028",
                        "\u2029Test\u2029"),
                new TestData(new String[]{"Test", "", "Data"}, "Test\n\nData", "Test\n\r\nData", "Test\n\rData", "Test\n\fData", "Test\n\u0085Data", "Test\n\u2028Data",
                        "Test\n\u2029Data", "Test\r\n\nData", "Test\r\n\r\nData", "Test\r\n\rData", "Test\r\n\fData", "Test\r\n\u0085Data", "Test\r\n\u2028Data",
                        "Test\r\n\u2029Data", "Test\r\r\nData", "Test\r\rData", "Test\r\fData", "Test\r\u0085Data", "Test\r\u2028Data", "Test\r\u2029Data", "Test\f\nData",
                        "Test\f\r\nData", "Test\f\rData", "Test\f\fData", "Test\f\u0085Data", "Test\f\u2028Data", "Test\f\u2029Data", "Test\u0085\nData",
                        "Test\u0085\r\nData", "Test\u0085\rData", "Test\u0085\fData", "Test\u0085\u0085Data", "Test\u0085\u2028Data", "Test\u0085\u2029Data",
                        "Test\u2028\nData", "Test\u2028\r\nData", "Test\u2028\rData", "Test\u2028\fData", "Test\u2028\u0085Data", "Test\u2028\u2028Data",
                        "Test\u2028\u2029Data", "Test\u2029\nData", "Test\u2029\r\nData", "Test\u2029\rData", "Test\u2029\fData", "Test\u2029\u0085Data",
                        "Test\u2029\u2028Data", "Test\u2029\u2029Data"),
                new TestData(new String[]{"Test", "", ""}, "Test\n\n", "Test\n\r\n", "Test\n\r", "Test\n\f", "Test\n\u0085", "Test\n\u2028", "Test\n\u2029",
                        "Test\r\n\n", "Test\r\n\r\n", "Test\r\n\r", "Test\r\n\f", "Test\r\n\u0085", "Test\r\n\u2028", "Test\r\n\u2029", "Test\r\r\n", "Test\r\r", "Test\r\f",
                        "Test\r\u0085", "Test\r\u2028", "Test\r\u2029", "Test\f\n", "Test\f\r\n", "Test\f\r", "Test\f\f", "Test\f\u0085", "Test\f\u2028", "Test\f\u2029",
                        "Test\u0085\n", "Test\u0085\r\n", "Test\u0085\r", "Test\u0085\f", "Test\u0085\u0085", "Test\u0085\u2028", "Test\u0085\u2029", "Test\u2028\n",
                        "Test\u2028\r\n", "Test\u2028\r", "Test\u2028\f", "Test\u2028\u0085", "Test\u2028\u2028", "Test\u2028\u2029", "Test\u2029\n", "Test\u2029\r\n",
                        "Test\u2029\r", "Test\u2029\f", "Test\u2029\u0085", "Test\u2029\u2028", "Test\u2029\u2029"),
                new TestData(new String[]{"", "", "Test"}, "\n\nTest", "\n\r\nTest", "\n\rTest", "\n\fTest", "\n\u0085Test", "\n\u2028Test", "\n\u2029Test",
                        "\r\n\nTest", "\r\n\r\nTest", "\r\n\rTest", "\r\n\fTest", "\r\n\u0085Test", "\r\n\u2028Test", "\r\n\u2029Test", "\r\r\nTest", "\r\rTest", "\r\fTest",
                        "\r\u0085Test", "\r\u2028Test", "\r\u2029Test", "\f\nTest", "\f\r\nTest", "\f\rTest", "\f\fTest", "\f\u0085Test", "\f\u2028Test", "\f\u2029Test",
                        "\u0085\nTest", "\u0085\r\nTest", "\u0085\rTest", "\u0085\fTest", "\u0085\u0085Test", "\u0085\u2028Test", "\u0085\u2029Test", "\u2028\nTest",
                        "\u2028\r\nTest", "\u2028\rTest", "\u2028\fTest", "\u2028\u0085Test", "\u2028\u2028Test", "\u2028\u2029Test", "\u2029\nTest", "\u2029\r\nTest",
                        "\u2029\rTest", "\u2029\fTest", "\u2029\u0085Test", "\u2029\u2028Test", "\u2029\u2029Test"),
                new TestData(new String[]{"", "", "Test", "", ""}, "\n\nTest\n\n", "\n\r\nTest\n\r\n", "\n\rTest\n\r", "\n\fTest\n\f", "\n\u0085Test\n\u0085",
                        "\n\u2028Test\n\u2028", "\n\u2029Test\n\u2029", "\r\n\nTest\r\n\n", "\r\n\r\nTest\r\n\r\n", "\r\n\rTest\r\n\r", "\r\n\fTest\r\n\f",
                        "\r\n\u0085Test\r\n\u0085", "\r\n\u2028Test\r\n\u2028", "\r\n\u2029Test\r\n\u2029", "\r\r\nTest\r\r\n", "\r\rTest\r\r", "\r\fTest\r\f",
                        "\r\u0085Test\r\u0085", "\r\u2028Test\r\u2028", "\r\u2029Test\r\u2029", "\f\nTest\f\n", "\f\r\nTest\f\r\n", "\f\rTest\f\r", "\f\fTest\f\f",
                        "\f\u0085Test\f\u0085", "\f\u2028Test\f\u2028", "\f\u2029Test\f\u2029", "\u0085\nTest\u0085\n", "\u0085\r\nTest\u0085\r\n", "\u0085\rTest\u0085\r",
                        "\u0085\fTest\u0085\f", "\u0085\u0085Test\u0085\u0085", "\u0085\u2028Test\u0085\u2028", "\u0085\u2029Test\u0085\u2029", "\u2028\nTest\u2028\n",
                        "\u2028\r\nTest\u2028\r\n", "\u2028\rTest\u2028\r", "\u2028\fTest\u2028\f", "\u2028\u0085Test\u2028\u0085", "\u2028\u2028Test\u2028\u2028",
                        "\u2028\u2029Test\u2028\u2029", "\u2029\nTest\u2029\n", "\u2029\r\nTest\u2029\r\n", "\u2029\rTest\u2029\r", "\u2029\fTest\u2029\f",
                        "\u2029\u0085Test\u2029\u0085", "\u2029\u2028Test\u2029\u2028", "\u2029\u2029Test\u2029\u2029"),
                new TestData(new String[]{"\u00A0 _"}, "\u00A0 _"),
                new TestData(new String[]{"\u00A0  _"}, "\u00A0  _"),
                new TestData(new String[]{"\u00A0 "}, "\u00A0 "),
                new TestData(new String[]{" \u00A0"}, " \u00A0"),
                new TestData(new String[]{" \u00A0 "}, " \u00A0 "),
                new TestData(new String[]{"  \u00A0  "}, "  \u00A0  "),
                new TestData(new String[]{" \u00A0 ", " _"}, " \u00A0 \n _", " \u00A0 \r\n _", " \u00A0 \r _", " \u00A0 \f _", " \u00A0 \u0085 _", " \u00A0 \u2028 _",
                        " \u00A0 \u2029 _"),
                new TestData(new String[]{"\u00A0 ", " _ "}, "\u00A0 \n _ ", "\u00A0 \r\n _ ", "\u00A0 \r _ ", "\u00A0 \f _ ", "\u00A0 \u0085 _ ", "\u00A0 \u2028 _ ",
                        "\u00A0 \u2029 _ "),
                new TestData(new String[]{" ", " \u00A0"}, " \n \u00A0", " \r\n \u00A0", " \r \u00A0", " \f \u00A0", " \u0085 \u00A0", " \u2028 \u00A0",
                        " \u2029 \u00A0"),
                new TestData(new String[]{"", " \u00A0 "}, "\n \u00A0 ", "\r\n \u00A0 ", "\r \u00A0 ", "\f \u00A0 ", "\u0085 \u00A0 ", "\u2028 \u00A0 ",
                        "\u2029 \u00A0 "),
                new TestData(new String[]{"", " \u00A0 ", ""}, "\n \u00A0 \n", "\r\n \u00A0 \r\n", "\r \u00A0 \r", "\f \u00A0 \f", "\u0085 \u00A0 \u0085",
                        "\u2028 \u00A0 \u2028", "\u2029 \u00A0 \u2029"),
                new TestData(new String[]{" ", " \u00A0 ", " "}, " \n \u00A0 \n ", " \r\n \u00A0 \r\n ", " \r \u00A0 \r ", " \f \u00A0 \f ", " \u0085 \u00A0 \u0085 ",
                        " \u2028 \u00A0 \u2028 ", " \u2029 \u00A0 \u2029 "),
                new TestData(new String[]{"\u00A0\t_"}, "\u00A0\t_"),
                new TestData(new String[]{"\u00A0\t\t_"}, "\u00A0\t\t_"),
                new TestData(new String[]{"\u00A0\t"}, "\u00A0\t"),
                new TestData(new String[]{"\t\u00A0"}, "\t\u00A0"),
                new TestData(new String[]{"\t\u00A0\t"}, "\t\u00A0\t"),
                new TestData(new String[]{"\t\t\u00A0\t\t"}, "\t\t\u00A0\t\t"),
                new TestData(new String[]{"\t\u00A0\t", "\t_"}, "\t\u00A0\t\n\t_", "\t\u00A0\t\r\n\t_", "\t\u00A0\t\r\t_", "\t\u00A0\t\f\t_", "\t\u00A0\t\u0085\t_",
                        "\t\u00A0\t\u2028\t_", "\t\u00A0\t\u2029\t_"),
                new TestData(new String[]{"\u00A0\t", "\t_\t"}, "\u00A0\t\n\t_\t", "\u00A0\t\r\n\t_\t", "\u00A0\t\r\t_\t", "\u00A0\t\f\t_\t", "\u00A0\t\u0085\t_\t",
                        "\u00A0\t\u2028\t_\t", "\u00A0\t\u2029\t_\t"),
                new TestData(new String[]{"\t", "\t\u00A0"}, "\t\n\t\u00A0", "\t\r\n\t\u00A0", "\t\r\t\u00A0", "\t\f\t\u00A0", "\t\u0085\t\u00A0", "\t\u2028\t\u00A0",
                        "\t\u2029\t\u00A0"),
                new TestData(new String[]{"", "\t\u00A0\t"}, "\n\t\u00A0\t", "\r\n\t\u00A0\t", "\r\t\u00A0\t", "\f\t\u00A0\t", "\u0085\t\u00A0\t", "\u2028\t\u00A0\t",
                        "\u2029\t\u00A0\t"),
                new TestData(new String[]{"", "\t\u00A0\t", ""}, "\n\t\u00A0\t\n", "\r\n\t\u00A0\t\r\n", "\r\t\u00A0\t\r", "\f\t\u00A0\t\f", "\u0085\t\u00A0\t\u0085",
                        "\u2028\t\u00A0\t\u2028", "\u2029\t\u00A0\t\u2029"),
                new TestData(new String[]{"\t", "\t\u00A0\t", "\t"}, "\t\n\t\u00A0\t\n\t", "\t\r\n\t\u00A0\t\r\n\t", "\t\r\t\u00A0\t\r\t", "\t\f\t\u00A0\t\f\t",
                        "\t\u0085\t\u00A0\t\u0085\t", "\t\u2028\t\u00A0\t\u2028\t", "\t\u2029\t\u00A0\t\u2029\t"),
                new TestData(new String[]{"\u00A0\u1680_"}, "\u00A0\u1680_"),
                new TestData(new String[]{"\u00A0\u1680\u1680_"}, "\u00A0\u1680\u1680_"),
                new TestData(new String[]{"\u00A0\u1680"}, "\u00A0\u1680"),
                new TestData(new String[]{"\u1680\u00A0"}, "\u1680\u00A0"),
                new TestData(new String[]{"\u1680\u00A0\u1680"}, "\u1680\u00A0\u1680"),
                new TestData(new String[]{"\u1680\u1680\u00A0\u1680\u1680"}, "\u1680\u1680\u00A0\u1680\u1680"),
                new TestData(new String[]{"\u1680\u00A0\u1680", "\u1680_"}, "\u1680\u00A0\u1680\n\u1680_", "\u1680\u00A0\u1680\r\n\u1680_",
                        "\u1680\u00A0\u1680\r\u1680_", "\u1680\u00A0\u1680\f\u1680_", "\u1680\u00A0\u1680\u0085\u1680_", "\u1680\u00A0\u1680\u2028\u1680_",
                        "\u1680\u00A0\u1680\u2029\u1680_"),
                new TestData(new String[]{"\u00A0\u1680", "\u1680_\u1680"}, "\u00A0\u1680\n\u1680_\u1680", "\u00A0\u1680\r\n\u1680_\u1680",
                        "\u00A0\u1680\r\u1680_\u1680", "\u00A0\u1680\f\u1680_\u1680", "\u00A0\u1680\u0085\u1680_\u1680", "\u00A0\u1680\u2028\u1680_\u1680",
                        "\u00A0\u1680\u2029\u1680_\u1680"),
                new TestData(new String[]{"\u1680", "\u1680\u00A0"}, "\u1680\n\u1680\u00A0", "\u1680\r\n\u1680\u00A0", "\u1680\r\u1680\u00A0", "\u1680\f\u1680\u00A0",
                        "\u1680\u0085\u1680\u00A0", "\u1680\u2028\u1680\u00A0", "\u1680\u2029\u1680\u00A0"),
                new TestData(new String[]{"", "\u1680\u00A0\u1680"}, "\n\u1680\u00A0\u1680", "\r\n\u1680\u00A0\u1680", "\r\u1680\u00A0\u1680", "\f\u1680\u00A0\u1680",
                        "\u0085\u1680\u00A0\u1680", "\u2028\u1680\u00A0\u1680", "\u2029\u1680\u00A0\u1680"),
                new TestData(new String[]{"", "\u1680\u00A0\u1680", ""}, "\n\u1680\u00A0\u1680\n", "\r\n\u1680\u00A0\u1680\r\n", "\r\u1680\u00A0\u1680\r",
                        "\f\u1680\u00A0\u1680\f", "\u0085\u1680\u00A0\u1680\u0085", "\u2028\u1680\u00A0\u1680\u2028", "\u2029\u1680\u00A0\u1680\u2029"),
                new TestData(new String[]{"\u1680", "\u1680\u00A0\u1680", "\u1680"}, "\u1680\n\u1680\u00A0\u1680\n\u1680", "\u1680\r\n\u1680\u00A0\u1680\r\n\u1680",
                        "\u1680\r\u1680\u00A0\u1680\r\u1680", "\u1680\f\u1680\u00A0\u1680\f\u1680", "\u1680\u0085\u1680\u00A0\u1680\u0085\u1680",
                        "\u1680\u2028\u1680\u00A0\u1680\u2028\u1680", "\u1680\u2029\u1680\u00A0\u1680\u2029\u1680"),
                new TestData(new String[]{"\u00A0", "_"}, "\u00A0\n_", "\u00A0\r\n_", "\u00A0\r_", "\u00A0\f_", "\u00A0\u0085_", "\u00A0\u2028_", "\u00A0\u2029_"),
                new TestData(new String[]{"", "\u00A0"}, "\n\u00A0", "\r\n\u00A0", "\r\u00A0", "\f\u00A0", "\u0085\u00A0", "\u2028\u00A0", "\u2029\u00A0"),
                new TestData(new String[]{"", "\u00A0", ""}, "\n\u00A0\n", "\r\n\u00A0\r\n", "\r\u00A0\r", "\f\u00A0\f", "\u0085\u00A0\u0085", "\u2028\u00A0\u2028",
                        "\u2029\u00A0\u2029"),
                new TestData(new String[]{"\u00A0", "", "_"}, "\u00A0\n\n_", "\u00A0\n\r\n_", "\u00A0\n\r_", "\u00A0\n\f_", "\u00A0\n\u0085_", "\u00A0\n\u2028_",
                        "\u00A0\n\u2029_", "\u00A0\r\n\n_", "\u00A0\r\n\r\n_", "\u00A0\r\n\r_", "\u00A0\r\n\f_", "\u00A0\r\n\u0085_", "\u00A0\r\n\u2028_",
                        "\u00A0\r\n\u2029_", "\u00A0\r\r\n_", "\u00A0\r\r_", "\u00A0\r\f_", "\u00A0\r\u0085_", "\u00A0\r\u2028_", "\u00A0\r\u2029_", "\u00A0\f\n_",
                        "\u00A0\f\r\n_", "\u00A0\f\r_", "\u00A0\f\f_", "\u00A0\f\u0085_", "\u00A0\f\u2028_", "\u00A0\f\u2029_", "\u00A0\u0085\n_", "\u00A0\u0085\r\n_",
                        "\u00A0\u0085\r_", "\u00A0\u0085\f_", "\u00A0\u0085\u0085_", "\u00A0\u0085\u2028_", "\u00A0\u0085\u2029_", "\u00A0\u2028\n_", "\u00A0\u2028\r\n_",
                        "\u00A0\u2028\r_", "\u00A0\u2028\f_", "\u00A0\u2028\u0085_", "\u00A0\u2028\u2028_", "\u00A0\u2028\u2029_", "\u00A0\u2029\n_", "\u00A0\u2029\r\n_",
                        "\u00A0\u2029\r_", "\u00A0\u2029\f_", "\u00A0\u2029\u0085_", "\u00A0\u2029\u2028_", "\u00A0\u2029\u2029_"),
                new TestData(new String[]{"\u00A0", "", ""}, "\u00A0\n\n", "\u00A0\n\r\n", "\u00A0\n\r", "\u00A0\n\f", "\u00A0\n\u0085", "\u00A0\n\u2028",
                        "\u00A0\n\u2029", "\u00A0\r\n\n", "\u00A0\r\n\r\n", "\u00A0\r\n\r", "\u00A0\r\n\f", "\u00A0\r\n\u0085", "\u00A0\r\n\u2028", "\u00A0\r\n\u2029",
                        "\u00A0\r\r\n", "\u00A0\r\r", "\u00A0\r\f", "\u00A0\r\u0085", "\u00A0\r\u2028", "\u00A0\r\u2029", "\u00A0\f\n", "\u00A0\f\r\n", "\u00A0\f\r",
                        "\u00A0\f\f", "\u00A0\f\u0085", "\u00A0\f\u2028", "\u00A0\f\u2029", "\u00A0\u0085\n", "\u00A0\u0085\r\n", "\u00A0\u0085\r", "\u00A0\u0085\f",
                        "\u00A0\u0085\u0085", "\u00A0\u0085\u2028", "\u00A0\u0085\u2029", "\u00A0\u2028\n", "\u00A0\u2028\r\n", "\u00A0\u2028\r", "\u00A0\u2028\f",
                        "\u00A0\u2028\u0085", "\u00A0\u2028\u2028", "\u00A0\u2028\u2029", "\u00A0\u2029\n", "\u00A0\u2029\r\n", "\u00A0\u2029\r", "\u00A0\u2029\f",
                        "\u00A0\u2029\u0085", "\u00A0\u2029\u2028", "\u00A0\u2029\u2029"),
                new TestData(new String[]{"", "", "\u00A0"}, "\n\n\u00A0", "\n\r\n\u00A0", "\n\r\u00A0", "\n\f\u00A0", "\n\u0085\u00A0", "\n\u2028\u00A0",
                        "\n\u2029\u00A0", "\r\n\n\u00A0", "\r\n\r\n\u00A0", "\r\n\r\u00A0", "\r\n\f\u00A0", "\r\n\u0085\u00A0", "\r\n\u2028\u00A0", "\r\n\u2029\u00A0",
                        "\r\r\n\u00A0", "\r\r\u00A0", "\r\f\u00A0", "\r\u0085\u00A0", "\r\u2028\u00A0", "\r\u2029\u00A0", "\f\n\u00A0", "\f\r\n\u00A0", "\f\r\u00A0",
                        "\f\f\u00A0", "\f\u0085\u00A0", "\f\u2028\u00A0", "\f\u2029\u00A0", "\u0085\n\u00A0", "\u0085\r\n\u00A0", "\u0085\r\u00A0", "\u0085\f\u00A0",
                        "\u0085\u0085\u00A0", "\u0085\u2028\u00A0", "\u0085\u2029\u00A0", "\u2028\n\u00A0", "\u2028\r\n\u00A0", "\u2028\r\u00A0", "\u2028\f\u00A0",
                        "\u2028\u0085\u00A0", "\u2028\u2028\u00A0", "\u2028\u2029\u00A0", "\u2029\n\u00A0", "\u2029\r\n\u00A0", "\u2029\r\u00A0", "\u2029\f\u00A0",
                        "\u2029\u0085\u00A0", "\u2029\u2028\u00A0", "\u2029\u2029\u00A0"),
                new TestData(new String[]{"", "", "\u00A0", "", ""}, "\n\n\u00A0\n\n", "\n\r\n\u00A0\n\r\n", "\n\r\u00A0\n\r", "\n\f\u00A0\n\f",
                        "\n\u0085\u00A0\n\u0085", "\n\u2028\u00A0\n\u2028", "\n\u2029\u00A0\n\u2029", "\r\n\n\u00A0\r\n\n", "\r\n\r\n\u00A0\r\n\r\n", "\r\n\r\u00A0\r\n\r",
                        "\r\n\f\u00A0\r\n\f", "\r\n\u0085\u00A0\r\n\u0085", "\r\n\u2028\u00A0\r\n\u2028", "\r\n\u2029\u00A0\r\n\u2029", "\r\r\n\u00A0\r\r\n",
                        "\r\r\u00A0\r\r", "\r\f\u00A0\r\f", "\r\u0085\u00A0\r\u0085", "\r\u2028\u00A0\r\u2028", "\r\u2029\u00A0\r\u2029", "\f\n\u00A0\f\n",
                        "\f\r\n\u00A0\f\r\n", "\f\r\u00A0\f\r", "\f\f\u00A0\f\f", "\f\u0085\u00A0\f\u0085", "\f\u2028\u00A0\f\u2028", "\f\u2029\u00A0\f\u2029",
                        "\u0085\n\u00A0\u0085\n", "\u0085\r\n\u00A0\u0085\r\n", "\u0085\r\u00A0\u0085\r", "\u0085\f\u00A0\u0085\f", "\u0085\u0085\u00A0\u0085\u0085",
                        "\u0085\u2028\u00A0\u0085\u2028", "\u0085\u2029\u00A0\u0085\u2029", "\u2028\n\u00A0\u2028\n", "\u2028\r\n\u00A0\u2028\r\n", "\u2028\r\u00A0\u2028\r",
                        "\u2028\f\u00A0\u2028\f", "\u2028\u0085\u00A0\u2028\u0085", "\u2028\u2028\u00A0\u2028\u2028", "\u2028\u2029\u00A0\u2028\u2029",
                        "\u2029\n\u00A0\u2029\n", "\u2029\r\n\u00A0\u2029\r\n", "\u2029\r\u00A0\u2029\r", "\u2029\f\u00A0\u2029\f", "\u2029\u0085\u00A0\u2029\u0085",
                        "\u2029\u2028\u00A0\u2029\u2028", "\u2029\u2029\u00A0\u2029\u2029")
        };
        for (TestData t : testData) {
            List<String> expected = t.expected;
            t.source.forEach(u -> {
                StringLineIterator target = StringLineIterator.create(u.source, false, false);
                String description = u.description;
                assertTrue(description, target.hasNext());
                String line = target.next();
                String d = String.format("%s, index 0", description);
                assertNotNull(d, line);
                Assert.assertFalse(d, line.contains("\n"));
                int index = 0;
                Iterator<String> srcIterator = expected.iterator();
                assertTrue(description, srcIterator.hasNext());
                String exp = srcIterator.next();
                assertEquals(description, exp, line);
                while (target.hasNext()) {
                    line = target.next();
                    d = String.format("%s, index %d", description, ++index);
                    assertTrue(d, srcIterator.hasNext());
                    assertNotNull(d, line);
                    exp = srcIterator.next();
                    assertEquals(d, exp, line);
                }
                assertFalse(description, srcIterator.hasNext());
            });
        }
    }

    @Test
    public void trimStartTest() {
        TestData[] testData = new TestData[]{
                new TestData(new String[]{""}, "", " ", "  ", " \t", " \u1680", "\t", "\t ", "\t\t", "\t\u1680", "\u1680", "\u1680 ", "\u1680\t", "\u1680\u1680"),
                new TestData(new String[]{"Test"}, "Test", " Test", "\tTest", "\u1680Test"),
                new TestData(new String[]{"_"}, "_"),
                new TestData(new String[]{"\u00A0"}, "\u00A0", " \u00A0", "\t\u00A0", "\u1680\u00A0"),
                new TestData(new String[]{"", ""}, "\n", "\r\n", "\r", "\f", "\u0085", "\u2028", "\u2029", " \n ", "\n ", " \r\n ", "\r\n ", " \r ", "\r ", " \f ",
                        "\f ", " \u0085 ", "\u0085 ", " \u2028 ", "\u2028 ", " \u2029 ", "\u2029 ", "\t\n\t", "\n\t", "\t\r\n\t", "\r\n\t", "\t\r\t", "\r\t", "\t\f\t",
                        "\f\t", "\t\u0085\t", "\u0085\t", "\t\u2028\t", "\u2028\t", "\t\u2029\t", "\u2029\t", "\u1680\n\u1680", "\n\u1680", "\u1680\r\n\u1680", "\r\n\u1680",
                        "\u1680\r\u1680", "\r\u1680", "\u1680\f\u1680", "\f\u1680", "\u1680\u0085\u1680", "\u0085\u1680", "\u1680\u2028\u1680", "\u2028\u1680",
                        "\u1680\u2029\u1680", "\u2029\u1680"),
                new TestData(new String[]{"", "", ""}, "\n\n", "\n\r\n", "\n\r", "\n\f", "\n\u0085", "\n\u2028", "\n\u2029", "\r\n\n", "\r\n\r\n", "\r\n\r", "\r\n\f",
                        "\r\n\u0085", "\r\n\u2028", "\r\n\u2029", "\r\r\n", "\r\r", "\r\f", "\r\u0085", "\r\u2028", "\r\u2029", "\f\n", "\f\r\n", "\f\r", "\f\f", "\f\u0085",
                        "\f\u2028", "\f\u2029", "\u0085\n", "\u0085\r\n", "\u0085\r", "\u0085\f", "\u0085\u0085", "\u0085\u2028", "\u0085\u2029", "\u2028\n", "\u2028\r\n",
                        "\u2028\r", "\u2028\f", "\u2028\u0085", "\u2028\u2028", "\u2028\u2029", "\u2029\n", "\u2029\r\n", "\u2029\r", "\u2029\f", "\u2029\u0085",
                        "\u2029\u2028", "\u2029\u2029", "\n \n", "\r\n \r\n", "\r \r", "\f \f", "\u0085 \u0085", "\u2028 \u2028", "\u2029 \u2029", " \n\n ", "\n\n ",
                        " \n\r\n ", "\n\r\n ", " \n\r ", "\n\r ", " \n\f ", "\n\f ", " \n\u0085 ", "\n\u0085 ", " \n\u2028 ", "\n\u2028 ", " \n\u2029 ", "\n\u2029 ",
                        " \r\n\n ", "\r\n\n ", " \r\n\r\n ", "\r\n\r\n ", " \r\n\r ", "\r\n\r ", " \r\n\f ", "\r\n\f ", " \r\n\u0085 ", "\r\n\u0085 ", " \r\n\u2028 ",
                        "\r\n\u2028 ", " \r\n\u2029 ", "\r\n\u2029 ", " \r\r\n ", "\r\r\n ", " \r\r ", "\r\r ", " \r\f ", "\r\f ", " \r\u0085 ", "\r\u0085 ", " \r\u2028 ",
                        "\r\u2028 ", " \r\u2029 ", "\r\u2029 ", " \f\n ", "\f\n ", " \f\r\n ", "\f\r\n ", " \f\r ", "\f\r ", " \f\f ", "\f\f ", " \f\u0085 ", "\f\u0085 ",
                        " \f\u2028 ", "\f\u2028 ", " \f\u2029 ", "\f\u2029 ", " \u0085\n ", "\u0085\n ", " \u0085\r\n ", "\u0085\r\n ", " \u0085\r ", "\u0085\r ",
                        " \u0085\f ", "\u0085\f ", " \u0085\u0085 ", "\u0085\u0085 ", " \u0085\u2028 ", "\u0085\u2028 ", " \u0085\u2029 ", "\u0085\u2029 ", " \u2028\n ",
                        "\u2028\n ", " \u2028\r\n ", "\u2028\r\n ", " \u2028\r ", "\u2028\r ", " \u2028\f ", "\u2028\f ", " \u2028\u0085 ", "\u2028\u0085 ",
                        " \u2028\u2028 ", "\u2028\u2028 ", " \u2028\u2029 ", "\u2028\u2029 ", " \u2029\n ", "\u2029\n ", " \u2029\r\n ", "\u2029\r\n ", " \u2029\r ",
                        "\u2029\r ", " \u2029\f ", "\u2029\f ", " \u2029\u0085 ", "\u2029\u0085 ", " \u2029\u2028 ", "\u2029\u2028 ", " \u2029\u2029 ", "\u2029\u2029 ",
                        "\n\t\n", "\r\n\t\r\n", "\r\t\r", "\f\t\f", "\u0085\t\u0085", "\u2028\t\u2028", "\u2029\t\u2029", "\t\n\n\t", "\n\n\t", "\t\n\r\n\t", "\n\r\n\t",
                        "\t\n\r\t", "\n\r\t", "\t\n\f\t", "\n\f\t", "\t\n\u0085\t", "\n\u0085\t", "\t\n\u2028\t", "\n\u2028\t", "\t\n\u2029\t", "\n\u2029\t", "\t\r\n\n\t",
                        "\r\n\n\t", "\t\r\n\r\n\t", "\r\n\r\n\t", "\t\r\n\r\t", "\r\n\r\t", "\t\r\n\f\t", "\r\n\f\t", "\t\r\n\u0085\t", "\r\n\u0085\t", "\t\r\n\u2028\t",
                        "\r\n\u2028\t", "\t\r\n\u2029\t", "\r\n\u2029\t", "\t\r\r\n\t", "\r\r\n\t", "\t\r\r\t", "\r\r\t", "\t\r\f\t", "\r\f\t", "\t\r\u0085\t", "\r\u0085\t",
                        "\t\r\u2028\t", "\r\u2028\t", "\t\r\u2029\t", "\r\u2029\t", "\t\f\n\t", "\f\n\t", "\t\f\r\n\t", "\f\r\n\t", "\t\f\r\t", "\f\r\t", "\t\f\f\t",
                        "\f\f\t", "\t\f\u0085\t", "\f\u0085\t", "\t\f\u2028\t", "\f\u2028\t", "\t\f\u2029\t", "\f\u2029\t", "\t\u0085\n\t", "\u0085\n\t", "\t\u0085\r\n\t",
                        "\u0085\r\n\t", "\t\u0085\r\t", "\u0085\r\t", "\t\u0085\f\t", "\u0085\f\t", "\t\u0085\u0085\t", "\u0085\u0085\t", "\t\u0085\u2028\t",
                        "\u0085\u2028\t", "\t\u0085\u2029\t", "\u0085\u2029\t", "\t\u2028\n\t", "\u2028\n\t", "\t\u2028\r\n\t", "\u2028\r\n\t", "\t\u2028\r\t", "\u2028\r\t",
                        "\t\u2028\f\t", "\u2028\f\t", "\t\u2028\u0085\t", "\u2028\u0085\t", "\t\u2028\u2028\t", "\u2028\u2028\t", "\t\u2028\u2029\t", "\u2028\u2029\t",
                        "\t\u2029\n\t", "\u2029\n\t", "\t\u2029\r\n\t", "\u2029\r\n\t", "\t\u2029\r\t", "\u2029\r\t", "\t\u2029\f\t", "\u2029\f\t", "\t\u2029\u0085\t",
                        "\u2029\u0085\t", "\t\u2029\u2028\t", "\u2029\u2028\t", "\t\u2029\u2029\t", "\u2029\u2029\t", "\n\u1680\n", "\r\n\u1680\r\n", "\r\u1680\r",
                        "\f\u1680\f", "\u0085\u1680\u0085", "\u2028\u1680\u2028", "\u2029\u1680\u2029", "\u1680\n\n\u1680", "\n\n\u1680", "\u1680\n\r\n\u1680",
                        "\n\r\n\u1680", "\u1680\n\r\u1680", "\n\r\u1680", "\u1680\n\f\u1680", "\n\f\u1680", "\u1680\n\u0085\u1680", "\n\u0085\u1680", "\u1680\n\u2028\u1680",
                        "\n\u2028\u1680", "\u1680\n\u2029\u1680", "\n\u2029\u1680", "\u1680\r\n\n\u1680", "\r\n\n\u1680", "\u1680\r\n\r\n\u1680", "\r\n\r\n\u1680",
                        "\u1680\r\n\r\u1680", "\r\n\r\u1680", "\u1680\r\n\f\u1680", "\r\n\f\u1680", "\u1680\r\n\u0085\u1680", "\r\n\u0085\u1680", "\u1680\r\n\u2028\u1680",
                        "\r\n\u2028\u1680", "\u1680\r\n\u2029\u1680", "\r\n\u2029\u1680", "\u1680\r\r\n\u1680", "\r\r\n\u1680", "\u1680\r\r\u1680", "\r\r\u1680",
                        "\u1680\r\f\u1680", "\r\f\u1680", "\u1680\r\u0085\u1680", "\r\u0085\u1680", "\u1680\r\u2028\u1680", "\r\u2028\u1680", "\u1680\r\u2029\u1680",
                        "\r\u2029\u1680", "\u1680\f\n\u1680", "\f\n\u1680", "\u1680\f\r\n\u1680", "\f\r\n\u1680", "\u1680\f\r\u1680", "\f\r\u1680", "\u1680\f\f\u1680",
                        "\f\f\u1680", "\u1680\f\u0085\u1680", "\f\u0085\u1680", "\u1680\f\u2028\u1680", "\f\u2028\u1680", "\u1680\f\u2029\u1680", "\f\u2029\u1680",
                        "\u1680\u0085\n\u1680", "\u0085\n\u1680", "\u1680\u0085\r\n\u1680", "\u0085\r\n\u1680", "\u1680\u0085\r\u1680", "\u0085\r\u1680",
                        "\u1680\u0085\f\u1680", "\u0085\f\u1680", "\u1680\u0085\u0085\u1680", "\u0085\u0085\u1680", "\u1680\u0085\u2028\u1680", "\u0085\u2028\u1680",
                        "\u1680\u0085\u2029\u1680", "\u0085\u2029\u1680", "\u1680\u2028\n\u1680", "\u2028\n\u1680", "\u1680\u2028\r\n\u1680", "\u2028\r\n\u1680",
                        "\u1680\u2028\r\u1680", "\u2028\r\u1680", "\u1680\u2028\f\u1680", "\u2028\f\u1680", "\u1680\u2028\u0085\u1680", "\u2028\u0085\u1680",
                        "\u1680\u2028\u2028\u1680", "\u2028\u2028\u1680", "\u1680\u2028\u2029\u1680", "\u2028\u2029\u1680", "\u1680\u2029\n\u1680", "\u2029\n\u1680",
                        "\u1680\u2029\r\n\u1680", "\u2029\r\n\u1680", "\u1680\u2029\r\u1680", "\u2029\r\u1680", "\u1680\u2029\f\u1680", "\u2029\f\u1680",
                        "\u1680\u2029\u0085\u1680", "\u2029\u0085\u1680", "\u1680\u2029\u2028\u1680", "\u2029\u2028\u1680", "\u1680\u2029\u2029\u1680", "\u2029\u2029\u1680"),
                new TestData(new String[]{"", "", "", "", ""}, "\n\n \n\n", "\n\r\n \n\r\n", "\n\r \n\r", "\n\f \n\f", "\n\u0085 \n\u0085", "\n\u2028 \n\u2028",
                        "\n\u2029 \n\u2029", "\r\n\n \r\n\n", "\r\n\r\n \r\n\r\n", "\r\n\r \r\n\r", "\r\n\f \r\n\f", "\r\n\u0085 \r\n\u0085", "\r\n\u2028 \r\n\u2028",
                        "\r\n\u2029 \r\n\u2029", "\r\r\n \r\r\n", "\r\r \r\r", "\r\f \r\f", "\r\u0085 \r\u0085", "\r\u2028 \r\u2028", "\r\u2029 \r\u2029", "\f\n \f\n",
                        "\f\r\n \f\r\n", "\f\r \f\r", "\f\f \f\f", "\f\u0085 \f\u0085", "\f\u2028 \f\u2028", "\f\u2029 \f\u2029", "\u0085\n \u0085\n",
                        "\u0085\r\n \u0085\r\n", "\u0085\r \u0085\r", "\u0085\f \u0085\f", "\u0085\u0085 \u0085\u0085", "\u0085\u2028 \u0085\u2028",
                        "\u0085\u2029 \u0085\u2029", "\u2028\n \u2028\n", "\u2028\r\n \u2028\r\n", "\u2028\r \u2028\r", "\u2028\f \u2028\f", "\u2028\u0085 \u2028\u0085",
                        "\u2028\u2028 \u2028\u2028", "\u2028\u2029 \u2028\u2029", "\u2029\n \u2029\n", "\u2029\r\n \u2029\r\n", "\u2029\r \u2029\r", "\u2029\f \u2029\f",
                        "\u2029\u0085 \u2029\u0085", "\u2029\u2028 \u2029\u2028", "\u2029\u2029 \u2029\u2029", "\n\n\t\n\n", "\n\r\n\t\n\r\n", "\n\r\t\n\r", "\n\f\t\n\f",
                        "\n\u0085\t\n\u0085", "\n\u2028\t\n\u2028", "\n\u2029\t\n\u2029", "\r\n\n\t\r\n\n", "\r\n\r\n\t\r\n\r\n", "\r\n\r\t\r\n\r", "\r\n\f\t\r\n\f",
                        "\r\n\u0085\t\r\n\u0085", "\r\n\u2028\t\r\n\u2028", "\r\n\u2029\t\r\n\u2029", "\r\r\n\t\r\r\n", "\r\r\t\r\r", "\r\f\t\r\f", "\r\u0085\t\r\u0085",
                        "\r\u2028\t\r\u2028", "\r\u2029\t\r\u2029", "\f\n\t\f\n", "\f\r\n\t\f\r\n", "\f\r\t\f\r", "\f\f\t\f\f", "\f\u0085\t\f\u0085", "\f\u2028\t\f\u2028",
                        "\f\u2029\t\f\u2029", "\u0085\n\t\u0085\n", "\u0085\r\n\t\u0085\r\n", "\u0085\r\t\u0085\r", "\u0085\f\t\u0085\f", "\u0085\u0085\t\u0085\u0085",
                        "\u0085\u2028\t\u0085\u2028", "\u0085\u2029\t\u0085\u2029", "\u2028\n\t\u2028\n", "\u2028\r\n\t\u2028\r\n", "\u2028\r\t\u2028\r",
                        "\u2028\f\t\u2028\f", "\u2028\u0085\t\u2028\u0085", "\u2028\u2028\t\u2028\u2028", "\u2028\u2029\t\u2028\u2029", "\u2029\n\t\u2029\n",
                        "\u2029\r\n\t\u2029\r\n", "\u2029\r\t\u2029\r", "\u2029\f\t\u2029\f", "\u2029\u0085\t\u2029\u0085", "\u2029\u2028\t\u2029\u2028",
                        "\u2029\u2029\t\u2029\u2029", "\n\n\u1680\n\n", "\n\r\n\u1680\n\r\n", "\n\r\u1680\n\r", "\n\f\u1680\n\f", "\n\u0085\u1680\n\u0085",
                        "\n\u2028\u1680\n\u2028", "\n\u2029\u1680\n\u2029", "\r\n\n\u1680\r\n\n", "\r\n\r\n\u1680\r\n\r\n", "\r\n\r\u1680\r\n\r", "\r\n\f\u1680\r\n\f",
                        "\r\n\u0085\u1680\r\n\u0085", "\r\n\u2028\u1680\r\n\u2028", "\r\n\u2029\u1680\r\n\u2029", "\r\r\n\u1680\r\r\n", "\r\r\u1680\r\r", "\r\f\u1680\r\f",
                        "\r\u0085\u1680\r\u0085", "\r\u2028\u1680\r\u2028", "\r\u2029\u1680\r\u2029", "\f\n\u1680\f\n", "\f\r\n\u1680\f\r\n", "\f\r\u1680\f\r",
                        "\f\f\u1680\f\f", "\f\u0085\u1680\f\u0085", "\f\u2028\u1680\f\u2028", "\f\u2029\u1680\f\u2029", "\u0085\n\u1680\u0085\n",
                        "\u0085\r\n\u1680\u0085\r\n", "\u0085\r\u1680\u0085\r", "\u0085\f\u1680\u0085\f", "\u0085\u0085\u1680\u0085\u0085", "\u0085\u2028\u1680\u0085\u2028",
                        "\u0085\u2029\u1680\u0085\u2029", "\u2028\n\u1680\u2028\n", "\u2028\r\n\u1680\u2028\r\n", "\u2028\r\u1680\u2028\r", "\u2028\f\u1680\u2028\f",
                        "\u2028\u0085\u1680\u2028\u0085", "\u2028\u2028\u1680\u2028\u2028", "\u2028\u2029\u1680\u2028\u2029", "\u2029\n\u1680\u2029\n",
                        "\u2029\r\n\u1680\u2029\r\n", "\u2029\r\u1680\u2029\r", "\u2029\f\u1680\u2029\f", "\u2029\u0085\u1680\u2029\u0085", "\u2029\u2028\u1680\u2029\u2028",
                        "\u2029\u2029\u1680\u2029\u2029"),
                new TestData(new String[]{"Test Data"}, "Test Data"),
                new TestData(new String[]{"Test  Data"}, "Test  Data"),
                new TestData(new String[]{"Test "}, "Test ", " Test "),
                new TestData(new String[]{"Test  "}, "  Test  "),
                new TestData(new String[]{"Test ", "Data"}, " Test \n Data", " Test \r\n Data", " Test \r Data", " Test \f Data", " Test \u0085 Data",
                        " Test \u2028 Data", " Test \u2029 Data"),
                new TestData(new String[]{"Test ", "Data "}, "Test \n Data ", "Test \r\n Data ", "Test \r Data ", "Test \f Data ", "Test \u0085 Data ",
                        "Test \u2028 Data ", "Test \u2029 Data "),
                new TestData(new String[]{"", "Test"}, " \n Test", " \r\n Test", " \r Test", " \f Test", " \u0085 Test", " \u2028 Test", " \u2029 Test", "\t\n\tTest",
                        "\t\r\n\tTest", "\t\r\tTest", "\t\f\tTest", "\t\u0085\tTest", "\t\u2028\tTest", "\t\u2029\tTest", "\u1680\n\u1680Test", "\u1680\r\n\u1680Test",
                        "\u1680\r\u1680Test", "\u1680\f\u1680Test", "\u1680\u0085\u1680Test", "\u1680\u2028\u1680Test", "\u1680\u2029\u1680Test", "\nTest", "\r\nTest",
                        "\rTest", "\fTest", "\u0085Test", "\u2028Test", "\u2029Test"),
                new TestData(new String[]{"", "Test "}, "\n Test ", "\r\n Test ", "\r Test ", "\f Test ", "\u0085 Test ", "\u2028 Test ", "\u2029 Test "),
                new TestData(new String[]{"", "Test ", ""}, "\n Test \n", " \n Test \n ", "\r\n Test \r\n", " \r\n Test \r\n ", "\r Test \r", " \r Test \r ",
                        "\f Test \f", " \f Test \f ", "\u0085 Test \u0085", " \u0085 Test \u0085 ", "\u2028 Test \u2028", " \u2028 Test \u2028 ", "\u2029 Test \u2029",
                        " \u2029 Test \u2029 "),
                new TestData(new String[]{"Test\tData"}, "Test\tData"),
                new TestData(new String[]{"Test\t\tData"}, "Test\t\tData"),
                new TestData(new String[]{"Test\t"}, "Test\t", "\tTest\t"),
                new TestData(new String[]{"Test\t\t"}, "\t\tTest\t\t"),
                new TestData(new String[]{"Test\t", "Data"}, "\tTest\t\n\tData", "\tTest\t\r\n\tData", "\tTest\t\r\tData", "\tTest\t\f\tData", "\tTest\t\u0085\tData",
                        "\tTest\t\u2028\tData", "\tTest\t\u2029\tData"),
                new TestData(new String[]{"Test\t", "Data\t"}, "Test\t\n\tData\t", "Test\t\r\n\tData\t", "Test\t\r\tData\t", "Test\t\f\tData\t", "Test\t\u0085\tData\t",
                        "Test\t\u2028\tData\t", "Test\t\u2029\tData\t"),
                new TestData(new String[]{"", "Test\t"}, "\n\tTest\t", "\r\n\tTest\t", "\r\tTest\t", "\f\tTest\t", "\u0085\tTest\t", "\u2028\tTest\t", "\u2029\tTest\t"),
                new TestData(new String[]{"", "Test\t", ""}, "\n\tTest\t\n", "\t\n\tTest\t\n\t", "\r\n\tTest\t\r\n", "\t\r\n\tTest\t\r\n\t", "\r\tTest\t\r",
                        "\t\r\tTest\t\r\t", "\f\tTest\t\f", "\t\f\tTest\t\f\t", "\u0085\tTest\t\u0085", "\t\u0085\tTest\t\u0085\t", "\u2028\tTest\t\u2028",
                        "\t\u2028\tTest\t\u2028\t", "\u2029\tTest\t\u2029", "\t\u2029\tTest\t\u2029\t"),
                new TestData(new String[]{"Test\u1680Data"}, "Test\u1680Data"),
                new TestData(new String[]{"Test\u1680\u1680Data"}, "Test\u1680\u1680Data"),
                new TestData(new String[]{"Test\u1680"}, "Test\u1680", "\u1680Test\u1680"),
                new TestData(new String[]{"Test\u1680\u1680"}, "\u1680\u1680Test\u1680\u1680"),
                new TestData(new String[]{"Test\u1680", "Data"}, "\u1680Test\u1680\n\u1680Data", "\u1680Test\u1680\r\n\u1680Data", "\u1680Test\u1680\r\u1680Data",
                        "\u1680Test\u1680\f\u1680Data", "\u1680Test\u1680\u0085\u1680Data", "\u1680Test\u1680\u2028\u1680Data", "\u1680Test\u1680\u2029\u1680Data"),
                new TestData(new String[]{"Test\u1680", "Data\u1680"}, "Test\u1680\n\u1680Data\u1680", "Test\u1680\r\n\u1680Data\u1680", "Test\u1680\r\u1680Data\u1680",
                        "Test\u1680\f\u1680Data\u1680", "Test\u1680\u0085\u1680Data\u1680", "Test\u1680\u2028\u1680Data\u1680", "Test\u1680\u2029\u1680Data\u1680"),
                new TestData(new String[]{"", "Test\u1680"}, "\n\u1680Test\u1680", "\r\n\u1680Test\u1680", "\r\u1680Test\u1680", "\f\u1680Test\u1680",
                        "\u0085\u1680Test\u1680", "\u2028\u1680Test\u1680", "\u2029\u1680Test\u1680"),
                new TestData(new String[]{"", "Test\u1680", ""}, "\n\u1680Test\u1680\n", "\u1680\n\u1680Test\u1680\n\u1680", "\r\n\u1680Test\u1680\r\n",
                        "\u1680\r\n\u1680Test\u1680\r\n\u1680", "\r\u1680Test\u1680\r", "\u1680\r\u1680Test\u1680\r\u1680", "\f\u1680Test\u1680\f",
                        "\u1680\f\u1680Test\u1680\f\u1680", "\u0085\u1680Test\u1680\u0085", "\u1680\u0085\u1680Test\u1680\u0085\u1680", "\u2028\u1680Test\u1680\u2028",
                        "\u1680\u2028\u1680Test\u1680\u2028\u1680", "\u2029\u1680Test\u1680\u2029", "\u1680\u2029\u1680Test\u1680\u2029\u1680"),
                new TestData(new String[]{"Test", "Data"}, "Test\nData", "Test\r\nData", "Test\rData", "Test\fData", "Test\u0085Data", "Test\u2028Data",
                        "Test\u2029Data"),
                new TestData(new String[]{"", "Test", ""}, "\nTest\n", "\r\nTest\r\n", "\rTest\r", "\fTest\f", "\u0085Test\u0085", "\u2028Test\u2028",
                        "\u2029Test\u2029"),
                new TestData(new String[]{"Test", "", "Data"}, "Test\n\nData", "Test\n\r\nData", "Test\n\rData", "Test\n\fData", "Test\n\u0085Data", "Test\n\u2028Data",
                        "Test\n\u2029Data", "Test\r\n\nData", "Test\r\n\r\nData", "Test\r\n\rData", "Test\r\n\fData", "Test\r\n\u0085Data", "Test\r\n\u2028Data",
                        "Test\r\n\u2029Data", "Test\r\r\nData", "Test\r\rData", "Test\r\fData", "Test\r\u0085Data", "Test\r\u2028Data", "Test\r\u2029Data", "Test\f\nData",
                        "Test\f\r\nData", "Test\f\rData", "Test\f\fData", "Test\f\u0085Data", "Test\f\u2028Data", "Test\f\u2029Data", "Test\u0085\nData",
                        "Test\u0085\r\nData", "Test\u0085\rData", "Test\u0085\fData", "Test\u0085\u0085Data", "Test\u0085\u2028Data", "Test\u0085\u2029Data",
                        "Test\u2028\nData", "Test\u2028\r\nData", "Test\u2028\rData", "Test\u2028\fData", "Test\u2028\u0085Data", "Test\u2028\u2028Data",
                        "Test\u2028\u2029Data", "Test\u2029\nData", "Test\u2029\r\nData", "Test\u2029\rData", "Test\u2029\fData", "Test\u2029\u0085Data",
                        "Test\u2029\u2028Data", "Test\u2029\u2029Data"),
                new TestData(new String[]{"Test", "", ""}, "Test\n\n", "Test\n\r\n", "Test\n\r", "Test\n\f", "Test\n\u0085", "Test\n\u2028", "Test\n\u2029",
                        "Test\r\n\n", "Test\r\n\r\n", "Test\r\n\r", "Test\r\n\f", "Test\r\n\u0085", "Test\r\n\u2028", "Test\r\n\u2029", "Test\r\r\n", "Test\r\r", "Test\r\f",
                        "Test\r\u0085", "Test\r\u2028", "Test\r\u2029", "Test\f\n", "Test\f\r\n", "Test\f\r", "Test\f\f", "Test\f\u0085", "Test\f\u2028", "Test\f\u2029",
                        "Test\u0085\n", "Test\u0085\r\n", "Test\u0085\r", "Test\u0085\f", "Test\u0085\u0085", "Test\u0085\u2028", "Test\u0085\u2029", "Test\u2028\n",
                        "Test\u2028\r\n", "Test\u2028\r", "Test\u2028\f", "Test\u2028\u0085", "Test\u2028\u2028", "Test\u2028\u2029", "Test\u2029\n", "Test\u2029\r\n",
                        "Test\u2029\r", "Test\u2029\f", "Test\u2029\u0085", "Test\u2029\u2028", "Test\u2029\u2029"),
                new TestData(new String[]{"", "", "Test"}, "\n\nTest", "\n\r\nTest", "\n\rTest", "\n\fTest", "\n\u0085Test", "\n\u2028Test", "\n\u2029Test",
                        "\r\n\nTest", "\r\n\r\nTest", "\r\n\rTest", "\r\n\fTest", "\r\n\u0085Test", "\r\n\u2028Test", "\r\n\u2029Test", "\r\r\nTest", "\r\rTest", "\r\fTest",
                        "\r\u0085Test", "\r\u2028Test", "\r\u2029Test", "\f\nTest", "\f\r\nTest", "\f\rTest", "\f\fTest", "\f\u0085Test", "\f\u2028Test", "\f\u2029Test",
                        "\u0085\nTest", "\u0085\r\nTest", "\u0085\rTest", "\u0085\fTest", "\u0085\u0085Test", "\u0085\u2028Test", "\u0085\u2029Test", "\u2028\nTest",
                        "\u2028\r\nTest", "\u2028\rTest", "\u2028\fTest", "\u2028\u0085Test", "\u2028\u2028Test", "\u2028\u2029Test", "\u2029\nTest", "\u2029\r\nTest",
                        "\u2029\rTest", "\u2029\fTest", "\u2029\u0085Test", "\u2029\u2028Test", "\u2029\u2029Test"),
                new TestData(new String[]{"", "", "Test", "", ""}, "\n\nTest\n\n", "\n\r\nTest\n\r\n", "\n\rTest\n\r", "\n\fTest\n\f", "\n\u0085Test\n\u0085",
                        "\n\u2028Test\n\u2028", "\n\u2029Test\n\u2029", "\r\n\nTest\r\n\n", "\r\n\r\nTest\r\n\r\n", "\r\n\rTest\r\n\r", "\r\n\fTest\r\n\f",
                        "\r\n\u0085Test\r\n\u0085", "\r\n\u2028Test\r\n\u2028", "\r\n\u2029Test\r\n\u2029", "\r\r\nTest\r\r\n", "\r\rTest\r\r", "\r\fTest\r\f",
                        "\r\u0085Test\r\u0085", "\r\u2028Test\r\u2028", "\r\u2029Test\r\u2029", "\f\nTest\f\n", "\f\r\nTest\f\r\n", "\f\rTest\f\r", "\f\fTest\f\f",
                        "\f\u0085Test\f\u0085", "\f\u2028Test\f\u2028", "\f\u2029Test\f\u2029", "\u0085\nTest\u0085\n", "\u0085\r\nTest\u0085\r\n", "\u0085\rTest\u0085\r",
                        "\u0085\fTest\u0085\f", "\u0085\u0085Test\u0085\u0085", "\u0085\u2028Test\u0085\u2028", "\u0085\u2029Test\u0085\u2029", "\u2028\nTest\u2028\n",
                        "\u2028\r\nTest\u2028\r\n", "\u2028\rTest\u2028\r", "\u2028\fTest\u2028\f", "\u2028\u0085Test\u2028\u0085", "\u2028\u2028Test\u2028\u2028",
                        "\u2028\u2029Test\u2028\u2029", "\u2029\nTest\u2029\n", "\u2029\r\nTest\u2029\r\n", "\u2029\rTest\u2029\r", "\u2029\fTest\u2029\f",
                        "\u2029\u0085Test\u2029\u0085", "\u2029\u2028Test\u2029\u2028", "\u2029\u2029Test\u2029\u2029"),
                new TestData(new String[]{"\u00A0 _"}, "\u00A0 _"),
                new TestData(new String[]{"\u00A0  _"}, "\u00A0  _"),
                new TestData(new String[]{"\u00A0 "}, "\u00A0 ", " \u00A0 "),
                new TestData(new String[]{"\u00A0  "}, "  \u00A0  "),
                new TestData(new String[]{"\u00A0 ", "_"}, " \u00A0 \n _", " \u00A0 \r\n _", " \u00A0 \r _", " \u00A0 \f _", " \u00A0 \u0085 _", " \u00A0 \u2028 _",
                        " \u00A0 \u2029 _"),
                new TestData(new String[]{"\u00A0 ", "_ "}, "\u00A0 \n _ ", "\u00A0 \r\n _ ", "\u00A0 \r _ ", "\u00A0 \f _ ", "\u00A0 \u0085 _ ", "\u00A0 \u2028 _ ",
                        "\u00A0 \u2029 _ "),
                new TestData(new String[]{"", "\u00A0"}, " \n \u00A0", " \r\n \u00A0", " \r \u00A0", " \f \u00A0", " \u0085 \u00A0", " \u2028 \u00A0", " \u2029 \u00A0",
                        "\t\n\t\u00A0", "\t\r\n\t\u00A0", "\t\r\t\u00A0", "\t\f\t\u00A0", "\t\u0085\t\u00A0", "\t\u2028\t\u00A0", "\t\u2029\t\u00A0", "\u1680\n\u1680\u00A0",
                        "\u1680\r\n\u1680\u00A0", "\u1680\r\u1680\u00A0", "\u1680\f\u1680\u00A0", "\u1680\u0085\u1680\u00A0", "\u1680\u2028\u1680\u00A0",
                        "\u1680\u2029\u1680\u00A0", "\n\u00A0", "\r\n\u00A0", "\r\u00A0", "\f\u00A0", "\u0085\u00A0", "\u2028\u00A0", "\u2029\u00A0"),
                new TestData(new String[]{"", "\u00A0 "}, "\n \u00A0 ", "\r\n \u00A0 ", "\r \u00A0 ", "\f \u00A0 ", "\u0085 \u00A0 ", "\u2028 \u00A0 ",
                        "\u2029 \u00A0 "),
                new TestData(new String[]{"", "\u00A0 ", ""}, "\n \u00A0 \n", " \n \u00A0 \n ", "\r\n \u00A0 \r\n", " \r\n \u00A0 \r\n ", "\r \u00A0 \r",
                        " \r \u00A0 \r ", "\f \u00A0 \f", " \f \u00A0 \f ", "\u0085 \u00A0 \u0085", " \u0085 \u00A0 \u0085 ", "\u2028 \u00A0 \u2028",
                        " \u2028 \u00A0 \u2028 ", "\u2029 \u00A0 \u2029", " \u2029 \u00A0 \u2029 "),
                new TestData(new String[]{"\u00A0\t_"}, "\u00A0\t_"),
                new TestData(new String[]{"\u00A0\t\t_"}, "\u00A0\t\t_"),
                new TestData(new String[]{"\u00A0\t"}, "\u00A0\t", "\t\u00A0\t"),
                new TestData(new String[]{"\u00A0\t\t"}, "\t\t\u00A0\t\t"),
                new TestData(new String[]{"\u00A0\t", "_"}, "\t\u00A0\t\n\t_", "\t\u00A0\t\r\n\t_", "\t\u00A0\t\r\t_", "\t\u00A0\t\f\t_", "\t\u00A0\t\u0085\t_",
                        "\t\u00A0\t\u2028\t_", "\t\u00A0\t\u2029\t_"),
                new TestData(new String[]{"\u00A0\t", "_\t"}, "\u00A0\t\n\t_\t", "\u00A0\t\r\n\t_\t", "\u00A0\t\r\t_\t", "\u00A0\t\f\t_\t", "\u00A0\t\u0085\t_\t",
                        "\u00A0\t\u2028\t_\t", "\u00A0\t\u2029\t_\t"),
                new TestData(new String[]{"", "\u00A0\t"}, "\n\t\u00A0\t", "\r\n\t\u00A0\t", "\r\t\u00A0\t", "\f\t\u00A0\t", "\u0085\t\u00A0\t", "\u2028\t\u00A0\t",
                        "\u2029\t\u00A0\t"),
                new TestData(new String[]{"", "\u00A0\t", ""}, "\n\t\u00A0\t\n", "\t\n\t\u00A0\t\n\t", "\r\n\t\u00A0\t\r\n", "\t\r\n\t\u00A0\t\r\n\t", "\r\t\u00A0\t\r",
                        "\t\r\t\u00A0\t\r\t", "\f\t\u00A0\t\f", "\t\f\t\u00A0\t\f\t", "\u0085\t\u00A0\t\u0085", "\t\u0085\t\u00A0\t\u0085\t", "\u2028\t\u00A0\t\u2028",
                        "\t\u2028\t\u00A0\t\u2028\t", "\u2029\t\u00A0\t\u2029", "\t\u2029\t\u00A0\t\u2029\t"),
                new TestData(new String[]{"\u00A0\u1680_"}, "\u00A0\u1680_"),
                new TestData(new String[]{"\u00A0\u1680\u1680_"}, "\u00A0\u1680\u1680_"),
                new TestData(new String[]{"\u00A0\u1680"}, "\u00A0\u1680", "\u1680\u00A0\u1680"),
                new TestData(new String[]{"\u00A0\u1680\u1680"}, "\u1680\u1680\u00A0\u1680\u1680"),
                new TestData(new String[]{"\u00A0\u1680", "_"}, "\u1680\u00A0\u1680\n\u1680_", "\u1680\u00A0\u1680\r\n\u1680_", "\u1680\u00A0\u1680\r\u1680_",
                        "\u1680\u00A0\u1680\f\u1680_", "\u1680\u00A0\u1680\u0085\u1680_", "\u1680\u00A0\u1680\u2028\u1680_", "\u1680\u00A0\u1680\u2029\u1680_"),
                new TestData(new String[]{"\u00A0\u1680", "_\u1680"}, "\u00A0\u1680\n\u1680_\u1680", "\u00A0\u1680\r\n\u1680_\u1680", "\u00A0\u1680\r\u1680_\u1680",
                        "\u00A0\u1680\f\u1680_\u1680", "\u00A0\u1680\u0085\u1680_\u1680", "\u00A0\u1680\u2028\u1680_\u1680", "\u00A0\u1680\u2029\u1680_\u1680"),
                new TestData(new String[]{"", "\u00A0\u1680"}, "\n\u1680\u00A0\u1680", "\r\n\u1680\u00A0\u1680", "\r\u1680\u00A0\u1680", "\f\u1680\u00A0\u1680",
                        "\u0085\u1680\u00A0\u1680", "\u2028\u1680\u00A0\u1680", "\u2029\u1680\u00A0\u1680"),
                new TestData(new String[]{"", "\u00A0\u1680", ""}, "\n\u1680\u00A0\u1680\n", "\u1680\n\u1680\u00A0\u1680\n\u1680", "\r\n\u1680\u00A0\u1680\r\n",
                        "\u1680\r\n\u1680\u00A0\u1680\r\n\u1680", "\r\u1680\u00A0\u1680\r", "\u1680\r\u1680\u00A0\u1680\r\u1680", "\f\u1680\u00A0\u1680\f",
                        "\u1680\f\u1680\u00A0\u1680\f\u1680", "\u0085\u1680\u00A0\u1680\u0085", "\u1680\u0085\u1680\u00A0\u1680\u0085\u1680",
                        "\u2028\u1680\u00A0\u1680\u2028", "\u1680\u2028\u1680\u00A0\u1680\u2028\u1680", "\u2029\u1680\u00A0\u1680\u2029",
                        "\u1680\u2029\u1680\u00A0\u1680\u2029\u1680"),
                new TestData(new String[]{"\u00A0", "_"}, "\u00A0\n_", "\u00A0\r\n_", "\u00A0\r_", "\u00A0\f_", "\u00A0\u0085_", "\u00A0\u2028_", "\u00A0\u2029_"),
                new TestData(new String[]{"", "\u00A0", ""}, "\n\u00A0\n", "\r\n\u00A0\r\n", "\r\u00A0\r", "\f\u00A0\f", "\u0085\u00A0\u0085", "\u2028\u00A0\u2028",
                        "\u2029\u00A0\u2029"),
                new TestData(new String[]{"\u00A0", "", "_"}, "\u00A0\n\n_", "\u00A0\n\r\n_", "\u00A0\n\r_", "\u00A0\n\f_", "\u00A0\n\u0085_", "\u00A0\n\u2028_",
                        "\u00A0\n\u2029_", "\u00A0\r\n\n_", "\u00A0\r\n\r\n_", "\u00A0\r\n\r_", "\u00A0\r\n\f_", "\u00A0\r\n\u0085_", "\u00A0\r\n\u2028_",
                        "\u00A0\r\n\u2029_", "\u00A0\r\r\n_", "\u00A0\r\r_", "\u00A0\r\f_", "\u00A0\r\u0085_", "\u00A0\r\u2028_", "\u00A0\r\u2029_", "\u00A0\f\n_",
                        "\u00A0\f\r\n_", "\u00A0\f\r_", "\u00A0\f\f_", "\u00A0\f\u0085_", "\u00A0\f\u2028_", "\u00A0\f\u2029_", "\u00A0\u0085\n_", "\u00A0\u0085\r\n_",
                        "\u00A0\u0085\r_", "\u00A0\u0085\f_", "\u00A0\u0085\u0085_", "\u00A0\u0085\u2028_", "\u00A0\u0085\u2029_", "\u00A0\u2028\n_", "\u00A0\u2028\r\n_",
                        "\u00A0\u2028\r_", "\u00A0\u2028\f_", "\u00A0\u2028\u0085_", "\u00A0\u2028\u2028_", "\u00A0\u2028\u2029_", "\u00A0\u2029\n_", "\u00A0\u2029\r\n_",
                        "\u00A0\u2029\r_", "\u00A0\u2029\f_", "\u00A0\u2029\u0085_", "\u00A0\u2029\u2028_", "\u00A0\u2029\u2029_"),
                new TestData(new String[]{"\u00A0", "", ""}, "\u00A0\n\n", "\u00A0\n\r\n", "\u00A0\n\r", "\u00A0\n\f", "\u00A0\n\u0085", "\u00A0\n\u2028",
                        "\u00A0\n\u2029", "\u00A0\r\n\n", "\u00A0\r\n\r\n", "\u00A0\r\n\r", "\u00A0\r\n\f", "\u00A0\r\n\u0085", "\u00A0\r\n\u2028", "\u00A0\r\n\u2029",
                        "\u00A0\r\r\n", "\u00A0\r\r", "\u00A0\r\f", "\u00A0\r\u0085", "\u00A0\r\u2028", "\u00A0\r\u2029", "\u00A0\f\n", "\u00A0\f\r\n", "\u00A0\f\r",
                        "\u00A0\f\f", "\u00A0\f\u0085", "\u00A0\f\u2028", "\u00A0\f\u2029", "\u00A0\u0085\n", "\u00A0\u0085\r\n", "\u00A0\u0085\r", "\u00A0\u0085\f",
                        "\u00A0\u0085\u0085", "\u00A0\u0085\u2028", "\u00A0\u0085\u2029", "\u00A0\u2028\n", "\u00A0\u2028\r\n", "\u00A0\u2028\r", "\u00A0\u2028\f",
                        "\u00A0\u2028\u0085", "\u00A0\u2028\u2028", "\u00A0\u2028\u2029", "\u00A0\u2029\n", "\u00A0\u2029\r\n", "\u00A0\u2029\r", "\u00A0\u2029\f",
                        "\u00A0\u2029\u0085", "\u00A0\u2029\u2028", "\u00A0\u2029\u2029"),
                new TestData(new String[]{"", "", "\u00A0"}, "\n\n\u00A0", "\n\r\n\u00A0", "\n\r\u00A0", "\n\f\u00A0", "\n\u0085\u00A0", "\n\u2028\u00A0",
                        "\n\u2029\u00A0", "\r\n\n\u00A0", "\r\n\r\n\u00A0", "\r\n\r\u00A0", "\r\n\f\u00A0", "\r\n\u0085\u00A0", "\r\n\u2028\u00A0", "\r\n\u2029\u00A0",
                        "\r\r\n\u00A0", "\r\r\u00A0", "\r\f\u00A0", "\r\u0085\u00A0", "\r\u2028\u00A0", "\r\u2029\u00A0", "\f\n\u00A0", "\f\r\n\u00A0", "\f\r\u00A0",
                        "\f\f\u00A0", "\f\u0085\u00A0", "\f\u2028\u00A0", "\f\u2029\u00A0", "\u0085\n\u00A0", "\u0085\r\n\u00A0", "\u0085\r\u00A0", "\u0085\f\u00A0",
                        "\u0085\u0085\u00A0", "\u0085\u2028\u00A0", "\u0085\u2029\u00A0", "\u2028\n\u00A0", "\u2028\r\n\u00A0", "\u2028\r\u00A0", "\u2028\f\u00A0",
                        "\u2028\u0085\u00A0", "\u2028\u2028\u00A0", "\u2028\u2029\u00A0", "\u2029\n\u00A0", "\u2029\r\n\u00A0", "\u2029\r\u00A0", "\u2029\f\u00A0",
                        "\u2029\u0085\u00A0", "\u2029\u2028\u00A0", "\u2029\u2029\u00A0"),
                new TestData(new String[]{"", "", "\u00A0", "", ""}, "\n\n\u00A0\n\n", "\n\r\n\u00A0\n\r\n", "\n\r\u00A0\n\r", "\n\f\u00A0\n\f",
                        "\n\u0085\u00A0\n\u0085", "\n\u2028\u00A0\n\u2028", "\n\u2029\u00A0\n\u2029", "\r\n\n\u00A0\r\n\n", "\r\n\r\n\u00A0\r\n\r\n", "\r\n\r\u00A0\r\n\r",
                        "\r\n\f\u00A0\r\n\f", "\r\n\u0085\u00A0\r\n\u0085", "\r\n\u2028\u00A0\r\n\u2028", "\r\n\u2029\u00A0\r\n\u2029", "\r\r\n\u00A0\r\r\n",
                        "\r\r\u00A0\r\r", "\r\f\u00A0\r\f", "\r\u0085\u00A0\r\u0085", "\r\u2028\u00A0\r\u2028", "\r\u2029\u00A0\r\u2029", "\f\n\u00A0\f\n",
                        "\f\r\n\u00A0\f\r\n", "\f\r\u00A0\f\r", "\f\f\u00A0\f\f", "\f\u0085\u00A0\f\u0085", "\f\u2028\u00A0\f\u2028", "\f\u2029\u00A0\f\u2029",
                        "\u0085\n\u00A0\u0085\n", "\u0085\r\n\u00A0\u0085\r\n", "\u0085\r\u00A0\u0085\r", "\u0085\f\u00A0\u0085\f", "\u0085\u0085\u00A0\u0085\u0085",
                        "\u0085\u2028\u00A0\u0085\u2028", "\u0085\u2029\u00A0\u0085\u2029", "\u2028\n\u00A0\u2028\n", "\u2028\r\n\u00A0\u2028\r\n", "\u2028\r\u00A0\u2028\r",
                        "\u2028\f\u00A0\u2028\f", "\u2028\u0085\u00A0\u2028\u0085", "\u2028\u2028\u00A0\u2028\u2028", "\u2028\u2029\u00A0\u2028\u2029",
                        "\u2029\n\u00A0\u2029\n", "\u2029\r\n\u00A0\u2029\r\n", "\u2029\r\u00A0\u2029\r", "\u2029\f\u00A0\u2029\f", "\u2029\u0085\u00A0\u2029\u0085",
                        "\u2029\u2028\u00A0\u2029\u2028", "\u2029\u2029\u00A0\u2029\u2029")
        };
        for (TestData t : testData) {
            List<String> expected = t.expected;
            t.source.forEach(u -> {
                StringLineIterator target = StringLineIterator.create(u.source, true, false);
                String description = u.description;
                assertTrue(description, target.hasNext());
                String line = target.next();
                String d = String.format("%s, index 0", description);
                assertNotNull(d, line);
                Assert.assertFalse(d, line.contains("\n"));
                int index = 0;
                Iterator<String> srcIterator = expected.iterator();
                assertTrue(description, srcIterator.hasNext());
                String exp = srcIterator.next();
                assertEquals(description, exp, line);
                while (target.hasNext()) {
                    line = target.next();
                    d = String.format("%s, index %d", description, ++index);
                    assertTrue(d, srcIterator.hasNext());
                    assertNotNull(d, line);
                    exp = srcIterator.next();
                    assertEquals(d, exp, line);
                }
                assertFalse(description, srcIterator.hasNext());
            });
        }
    }

    @Test
    public void trimEndTest() {
        TestData[] testData = new TestData[]{
                new TestData(new String[]{""}, "", " ", "  ", " \t", " \u1680", "\t", "\t ", "\t\t", "\t\u1680", "\u1680", "\u1680 ", "\u1680\t", "\u1680\u1680"),
                new TestData(new String[]{"Test"}, "Test", "Test ", "Test\t", "Test\u1680"),
                new TestData(new String[]{"_"}, "_"),
                new TestData(new String[]{"\u00A0"}, "\u00A0", "\u00A0 ", "\u00A0\t", "\u00A0\u1680"),
                new TestData(new String[]{"", ""}, "\n", "\r\n", "\r", "\f", "\u0085", "\u2028", "\u2029", " \n ", "\n ", " \r\n ", "\r\n ", " \r ", "\r ", " \f ",
                        "\f ", " \u0085 ", "\u0085 ", " \u2028 ", "\u2028 ", " \u2029 ", "\u2029 ", "\t\n\t", "\n\t", "\t\r\n\t", "\r\n\t", "\t\r\t", "\r\t", "\t\f\t",
                        "\f\t", "\t\u0085\t", "\u0085\t", "\t\u2028\t", "\u2028\t", "\t\u2029\t", "\u2029\t", "\u1680\n\u1680", "\n\u1680", "\u1680\r\n\u1680", "\r\n\u1680",
                        "\u1680\r\u1680", "\r\u1680", "\u1680\f\u1680", "\f\u1680", "\u1680\u0085\u1680", "\u0085\u1680", "\u1680\u2028\u1680", "\u2028\u1680",
                        "\u1680\u2029\u1680", "\u2029\u1680"),
                new TestData(new String[]{"", "", ""}, "\n\n", "\n\r\n", "\n\r", "\n\f", "\n\u0085", "\n\u2028", "\n\u2029", "\r\n\n", "\r\n\r\n", "\r\n\r", "\r\n\f",
                        "\r\n\u0085", "\r\n\u2028", "\r\n\u2029", "\r\r\n", "\r\r", "\r\f", "\r\u0085", "\r\u2028", "\r\u2029", "\f\n", "\f\r\n", "\f\r", "\f\f", "\f\u0085",
                        "\f\u2028", "\f\u2029", "\u0085\n", "\u0085\r\n", "\u0085\r", "\u0085\f", "\u0085\u0085", "\u0085\u2028", "\u0085\u2029", "\u2028\n", "\u2028\r\n",
                        "\u2028\r", "\u2028\f", "\u2028\u0085", "\u2028\u2028", "\u2028\u2029", "\u2029\n", "\u2029\r\n", "\u2029\r", "\u2029\f", "\u2029\u0085",
                        "\u2029\u2028", "\u2029\u2029", "\n \n", "\r\n \r\n", "\r \r", "\f \f", "\u0085 \u0085", "\u2028 \u2028", "\u2029 \u2029", " \n\n ", "\n\n ",
                        " \n\r\n ", "\n\r\n ", " \n\r ", "\n\r ", " \n\f ", "\n\f ", " \n\u0085 ", "\n\u0085 ", " \n\u2028 ", "\n\u2028 ", " \n\u2029 ", "\n\u2029 ",
                        " \r\n\n ", "\r\n\n ", " \r\n\r\n ", "\r\n\r\n ", " \r\n\r ", "\r\n\r ", " \r\n\f ", "\r\n\f ", " \r\n\u0085 ", "\r\n\u0085 ", " \r\n\u2028 ",
                        "\r\n\u2028 ", " \r\n\u2029 ", "\r\n\u2029 ", " \r\r\n ", "\r\r\n ", " \r\r ", "\r\r ", " \r\f ", "\r\f ", " \r\u0085 ", "\r\u0085 ", " \r\u2028 ",
                        "\r\u2028 ", " \r\u2029 ", "\r\u2029 ", " \f\n ", "\f\n ", " \f\r\n ", "\f\r\n ", " \f\r ", "\f\r ", " \f\f ", "\f\f ", " \f\u0085 ", "\f\u0085 ",
                        " \f\u2028 ", "\f\u2028 ", " \f\u2029 ", "\f\u2029 ", " \u0085\n ", "\u0085\n ", " \u0085\r\n ", "\u0085\r\n ", " \u0085\r ", "\u0085\r ",
                        " \u0085\f ", "\u0085\f ", " \u0085\u0085 ", "\u0085\u0085 ", " \u0085\u2028 ", "\u0085\u2028 ", " \u0085\u2029 ", "\u0085\u2029 ", " \u2028\n ",
                        "\u2028\n ", " \u2028\r\n ", "\u2028\r\n ", " \u2028\r ", "\u2028\r ", " \u2028\f ", "\u2028\f ", " \u2028\u0085 ", "\u2028\u0085 ",
                        " \u2028\u2028 ", "\u2028\u2028 ", " \u2028\u2029 ", "\u2028\u2029 ", " \u2029\n ", "\u2029\n ", " \u2029\r\n ", "\u2029\r\n ", " \u2029\r ",
                        "\u2029\r ", " \u2029\f ", "\u2029\f ", " \u2029\u0085 ", "\u2029\u0085 ", " \u2029\u2028 ", "\u2029\u2028 ", " \u2029\u2029 ", "\u2029\u2029 ",
                        "\n\t\n", "\r\n\t\r\n", "\r\t\r", "\f\t\f", "\u0085\t\u0085", "\u2028\t\u2028", "\u2029\t\u2029", "\t\n\n\t", "\n\n\t", "\t\n\r\n\t", "\n\r\n\t",
                        "\t\n\r\t", "\n\r\t", "\t\n\f\t", "\n\f\t", "\t\n\u0085\t", "\n\u0085\t", "\t\n\u2028\t", "\n\u2028\t", "\t\n\u2029\t", "\n\u2029\t", "\t\r\n\n\t",
                        "\r\n\n\t", "\t\r\n\r\n\t", "\r\n\r\n\t", "\t\r\n\r\t", "\r\n\r\t", "\t\r\n\f\t", "\r\n\f\t", "\t\r\n\u0085\t", "\r\n\u0085\t", "\t\r\n\u2028\t",
                        "\r\n\u2028\t", "\t\r\n\u2029\t", "\r\n\u2029\t", "\t\r\r\n\t", "\r\r\n\t", "\t\r\r\t", "\r\r\t", "\t\r\f\t", "\r\f\t", "\t\r\u0085\t", "\r\u0085\t",
                        "\t\r\u2028\t", "\r\u2028\t", "\t\r\u2029\t", "\r\u2029\t", "\t\f\n\t", "\f\n\t", "\t\f\r\n\t", "\f\r\n\t", "\t\f\r\t", "\f\r\t", "\t\f\f\t",
                        "\f\f\t", "\t\f\u0085\t", "\f\u0085\t", "\t\f\u2028\t", "\f\u2028\t", "\t\f\u2029\t", "\f\u2029\t", "\t\u0085\n\t", "\u0085\n\t", "\t\u0085\r\n\t",
                        "\u0085\r\n\t", "\t\u0085\r\t", "\u0085\r\t", "\t\u0085\f\t", "\u0085\f\t", "\t\u0085\u0085\t", "\u0085\u0085\t", "\t\u0085\u2028\t",
                        "\u0085\u2028\t", "\t\u0085\u2029\t", "\u0085\u2029\t", "\t\u2028\n\t", "\u2028\n\t", "\t\u2028\r\n\t", "\u2028\r\n\t", "\t\u2028\r\t", "\u2028\r\t",
                        "\t\u2028\f\t", "\u2028\f\t", "\t\u2028\u0085\t", "\u2028\u0085\t", "\t\u2028\u2028\t", "\u2028\u2028\t", "\t\u2028\u2029\t", "\u2028\u2029\t",
                        "\t\u2029\n\t", "\u2029\n\t", "\t\u2029\r\n\t", "\u2029\r\n\t", "\t\u2029\r\t", "\u2029\r\t", "\t\u2029\f\t", "\u2029\f\t", "\t\u2029\u0085\t",
                        "\u2029\u0085\t", "\t\u2029\u2028\t", "\u2029\u2028\t", "\t\u2029\u2029\t", "\u2029\u2029\t", "\n\u1680\n", "\r\n\u1680\r\n", "\r\u1680\r",
                        "\f\u1680\f", "\u0085\u1680\u0085", "\u2028\u1680\u2028", "\u2029\u1680\u2029", "\u1680\n\n\u1680", "\n\n\u1680", "\u1680\n\r\n\u1680",
                        "\n\r\n\u1680", "\u1680\n\r\u1680", "\n\r\u1680", "\u1680\n\f\u1680", "\n\f\u1680", "\u1680\n\u0085\u1680", "\n\u0085\u1680", "\u1680\n\u2028\u1680",
                        "\n\u2028\u1680", "\u1680\n\u2029\u1680", "\n\u2029\u1680", "\u1680\r\n\n\u1680", "\r\n\n\u1680", "\u1680\r\n\r\n\u1680", "\r\n\r\n\u1680",
                        "\u1680\r\n\r\u1680", "\r\n\r\u1680", "\u1680\r\n\f\u1680", "\r\n\f\u1680", "\u1680\r\n\u0085\u1680", "\r\n\u0085\u1680", "\u1680\r\n\u2028\u1680",
                        "\r\n\u2028\u1680", "\u1680\r\n\u2029\u1680", "\r\n\u2029\u1680", "\u1680\r\r\n\u1680", "\r\r\n\u1680", "\u1680\r\r\u1680", "\r\r\u1680",
                        "\u1680\r\f\u1680", "\r\f\u1680", "\u1680\r\u0085\u1680", "\r\u0085\u1680", "\u1680\r\u2028\u1680", "\r\u2028\u1680", "\u1680\r\u2029\u1680",
                        "\r\u2029\u1680", "\u1680\f\n\u1680", "\f\n\u1680", "\u1680\f\r\n\u1680", "\f\r\n\u1680", "\u1680\f\r\u1680", "\f\r\u1680", "\u1680\f\f\u1680",
                        "\f\f\u1680", "\u1680\f\u0085\u1680", "\f\u0085\u1680", "\u1680\f\u2028\u1680", "\f\u2028\u1680", "\u1680\f\u2029\u1680", "\f\u2029\u1680",
                        "\u1680\u0085\n\u1680", "\u0085\n\u1680", "\u1680\u0085\r\n\u1680", "\u0085\r\n\u1680", "\u1680\u0085\r\u1680", "\u0085\r\u1680",
                        "\u1680\u0085\f\u1680", "\u0085\f\u1680", "\u1680\u0085\u0085\u1680", "\u0085\u0085\u1680", "\u1680\u0085\u2028\u1680", "\u0085\u2028\u1680",
                        "\u1680\u0085\u2029\u1680", "\u0085\u2029\u1680", "\u1680\u2028\n\u1680", "\u2028\n\u1680", "\u1680\u2028\r\n\u1680", "\u2028\r\n\u1680",
                        "\u1680\u2028\r\u1680", "\u2028\r\u1680", "\u1680\u2028\f\u1680", "\u2028\f\u1680", "\u1680\u2028\u0085\u1680", "\u2028\u0085\u1680",
                        "\u1680\u2028\u2028\u1680", "\u2028\u2028\u1680", "\u1680\u2028\u2029\u1680", "\u2028\u2029\u1680", "\u1680\u2029\n\u1680", "\u2029\n\u1680",
                        "\u1680\u2029\r\n\u1680", "\u2029\r\n\u1680", "\u1680\u2029\r\u1680", "\u2029\r\u1680", "\u1680\u2029\f\u1680", "\u2029\f\u1680",
                        "\u1680\u2029\u0085\u1680", "\u2029\u0085\u1680", "\u1680\u2029\u2028\u1680", "\u2029\u2028\u1680", "\u1680\u2029\u2029\u1680", "\u2029\u2029\u1680"),
                new TestData(new String[]{"", "", "", "", ""}, "\n\n \n\n", "\n\r\n \n\r\n", "\n\r \n\r", "\n\f \n\f", "\n\u0085 \n\u0085", "\n\u2028 \n\u2028",
                        "\n\u2029 \n\u2029", "\r\n\n \r\n\n", "\r\n\r\n \r\n\r\n", "\r\n\r \r\n\r", "\r\n\f \r\n\f", "\r\n\u0085 \r\n\u0085", "\r\n\u2028 \r\n\u2028",
                        "\r\n\u2029 \r\n\u2029", "\r\r\n \r\r\n", "\r\r \r\r", "\r\f \r\f", "\r\u0085 \r\u0085", "\r\u2028 \r\u2028", "\r\u2029 \r\u2029", "\f\n \f\n",
                        "\f\r\n \f\r\n", "\f\r \f\r", "\f\f \f\f", "\f\u0085 \f\u0085", "\f\u2028 \f\u2028", "\f\u2029 \f\u2029", "\u0085\n \u0085\n",
                        "\u0085\r\n \u0085\r\n", "\u0085\r \u0085\r", "\u0085\f \u0085\f", "\u0085\u0085 \u0085\u0085", "\u0085\u2028 \u0085\u2028",
                        "\u0085\u2029 \u0085\u2029", "\u2028\n \u2028\n", "\u2028\r\n \u2028\r\n", "\u2028\r \u2028\r", "\u2028\f \u2028\f", "\u2028\u0085 \u2028\u0085",
                        "\u2028\u2028 \u2028\u2028", "\u2028\u2029 \u2028\u2029", "\u2029\n \u2029\n", "\u2029\r\n \u2029\r\n", "\u2029\r \u2029\r", "\u2029\f \u2029\f",
                        "\u2029\u0085 \u2029\u0085", "\u2029\u2028 \u2029\u2028", "\u2029\u2029 \u2029\u2029", "\n\n\t\n\n", "\n\r\n\t\n\r\n", "\n\r\t\n\r", "\n\f\t\n\f",
                        "\n\u0085\t\n\u0085", "\n\u2028\t\n\u2028", "\n\u2029\t\n\u2029", "\r\n\n\t\r\n\n", "\r\n\r\n\t\r\n\r\n", "\r\n\r\t\r\n\r", "\r\n\f\t\r\n\f",
                        "\r\n\u0085\t\r\n\u0085", "\r\n\u2028\t\r\n\u2028", "\r\n\u2029\t\r\n\u2029", "\r\r\n\t\r\r\n", "\r\r\t\r\r", "\r\f\t\r\f", "\r\u0085\t\r\u0085",
                        "\r\u2028\t\r\u2028", "\r\u2029\t\r\u2029", "\f\n\t\f\n", "\f\r\n\t\f\r\n", "\f\r\t\f\r", "\f\f\t\f\f", "\f\u0085\t\f\u0085", "\f\u2028\t\f\u2028",
                        "\f\u2029\t\f\u2029", "\u0085\n\t\u0085\n", "\u0085\r\n\t\u0085\r\n", "\u0085\r\t\u0085\r", "\u0085\f\t\u0085\f", "\u0085\u0085\t\u0085\u0085",
                        "\u0085\u2028\t\u0085\u2028", "\u0085\u2029\t\u0085\u2029", "\u2028\n\t\u2028\n", "\u2028\r\n\t\u2028\r\n", "\u2028\r\t\u2028\r",
                        "\u2028\f\t\u2028\f", "\u2028\u0085\t\u2028\u0085", "\u2028\u2028\t\u2028\u2028", "\u2028\u2029\t\u2028\u2029", "\u2029\n\t\u2029\n",
                        "\u2029\r\n\t\u2029\r\n", "\u2029\r\t\u2029\r", "\u2029\f\t\u2029\f", "\u2029\u0085\t\u2029\u0085", "\u2029\u2028\t\u2029\u2028",
                        "\u2029\u2029\t\u2029\u2029", "\n\n\u1680\n\n", "\n\r\n\u1680\n\r\n", "\n\r\u1680\n\r", "\n\f\u1680\n\f", "\n\u0085\u1680\n\u0085",
                        "\n\u2028\u1680\n\u2028", "\n\u2029\u1680\n\u2029", "\r\n\n\u1680\r\n\n", "\r\n\r\n\u1680\r\n\r\n", "\r\n\r\u1680\r\n\r", "\r\n\f\u1680\r\n\f",
                        "\r\n\u0085\u1680\r\n\u0085", "\r\n\u2028\u1680\r\n\u2028", "\r\n\u2029\u1680\r\n\u2029", "\r\r\n\u1680\r\r\n", "\r\r\u1680\r\r", "\r\f\u1680\r\f",
                        "\r\u0085\u1680\r\u0085", "\r\u2028\u1680\r\u2028", "\r\u2029\u1680\r\u2029", "\f\n\u1680\f\n", "\f\r\n\u1680\f\r\n", "\f\r\u1680\f\r",
                        "\f\f\u1680\f\f", "\f\u0085\u1680\f\u0085", "\f\u2028\u1680\f\u2028", "\f\u2029\u1680\f\u2029", "\u0085\n\u1680\u0085\n",
                        "\u0085\r\n\u1680\u0085\r\n", "\u0085\r\u1680\u0085\r", "\u0085\f\u1680\u0085\f", "\u0085\u0085\u1680\u0085\u0085", "\u0085\u2028\u1680\u0085\u2028",
                        "\u0085\u2029\u1680\u0085\u2029", "\u2028\n\u1680\u2028\n", "\u2028\r\n\u1680\u2028\r\n", "\u2028\r\u1680\u2028\r", "\u2028\f\u1680\u2028\f",
                        "\u2028\u0085\u1680\u2028\u0085", "\u2028\u2028\u1680\u2028\u2028", "\u2028\u2029\u1680\u2028\u2029", "\u2029\n\u1680\u2029\n",
                        "\u2029\r\n\u1680\u2029\r\n", "\u2029\r\u1680\u2029\r", "\u2029\f\u1680\u2029\f", "\u2029\u0085\u1680\u2029\u0085", "\u2029\u2028\u1680\u2029\u2028",
                        "\u2029\u2029\u1680\u2029\u2029"),
                new TestData(new String[]{"Test Data"}, "Test Data"),
                new TestData(new String[]{"Test  Data"}, "Test  Data"),
                new TestData(new String[]{" Test"}, " Test", " Test "),
                new TestData(new String[]{"  Test"}, "  Test  "),
                new TestData(new String[]{" Test", " Data"}, " Test \n Data", " Test \r\n Data", " Test \r Data", " Test \f Data", " Test \u0085 Data",
                        " Test \u2028 Data", " Test \u2029 Data"),
                new TestData(new String[]{"Test", " Data"}, "Test \n Data ", "Test \r\n Data ", "Test \r Data ", "Test \f Data ", "Test \u0085 Data ",
                        "Test \u2028 Data ", "Test \u2029 Data "),
                new TestData(new String[]{"", " Test"}, " \n Test", "\n Test ", " \r\n Test", "\r\n Test ", " \r Test", "\r Test ", " \f Test", "\f Test ",
                        " \u0085 Test", "\u0085 Test ", " \u2028 Test", "\u2028 Test ", " \u2029 Test", "\u2029 Test "),
                new TestData(new String[]{"", " Test", ""}, "\n Test \n", " \n Test \n ", "\r\n Test \r\n", " \r\n Test \r\n ", "\r Test \r", " \r Test \r ",
                        "\f Test \f", " \f Test \f ", "\u0085 Test \u0085", " \u0085 Test \u0085 ", "\u2028 Test \u2028", " \u2028 Test \u2028 ", "\u2029 Test \u2029",
                        " \u2029 Test \u2029 "),
                new TestData(new String[]{"Test\tData"}, "Test\tData"),
                new TestData(new String[]{"Test\t\tData"}, "Test\t\tData"),
                new TestData(new String[]{"\tTest"}, "\tTest", "\tTest\t"),
                new TestData(new String[]{"\t\tTest"}, "\t\tTest\t\t"),
                new TestData(new String[]{"\tTest", "\tData"}, "\tTest\t\n\tData", "\tTest\t\r\n\tData", "\tTest\t\r\tData", "\tTest\t\f\tData", "\tTest\t\u0085\tData",
                        "\tTest\t\u2028\tData", "\tTest\t\u2029\tData"),
                new TestData(new String[]{"Test", "\tData"}, "Test\t\n\tData\t", "Test\t\r\n\tData\t", "Test\t\r\tData\t", "Test\t\f\tData\t", "Test\t\u0085\tData\t",
                        "Test\t\u2028\tData\t", "Test\t\u2029\tData\t"),
                new TestData(new String[]{"", "\tTest"}, "\t\n\tTest", "\n\tTest\t", "\t\r\n\tTest", "\r\n\tTest\t", "\t\r\tTest", "\r\tTest\t", "\t\f\tTest",
                        "\f\tTest\t", "\t\u0085\tTest", "\u0085\tTest\t", "\t\u2028\tTest", "\u2028\tTest\t", "\t\u2029\tTest", "\u2029\tTest\t"),
                new TestData(new String[]{"", "\tTest", ""}, "\n\tTest\t\n", "\t\n\tTest\t\n\t", "\r\n\tTest\t\r\n", "\t\r\n\tTest\t\r\n\t", "\r\tTest\t\r",
                        "\t\r\tTest\t\r\t", "\f\tTest\t\f", "\t\f\tTest\t\f\t", "\u0085\tTest\t\u0085", "\t\u0085\tTest\t\u0085\t", "\u2028\tTest\t\u2028",
                        "\t\u2028\tTest\t\u2028\t", "\u2029\tTest\t\u2029", "\t\u2029\tTest\t\u2029\t"),
                new TestData(new String[]{"Test\u1680Data"}, "Test\u1680Data"),
                new TestData(new String[]{"Test\u1680\u1680Data"}, "Test\u1680\u1680Data"),
                new TestData(new String[]{"\u1680Test"}, "\u1680Test", "\u1680Test\u1680"),
                new TestData(new String[]{"\u1680\u1680Test"}, "\u1680\u1680Test\u1680\u1680"),
                new TestData(new String[]{"\u1680Test", "\u1680Data"}, "\u1680Test\u1680\n\u1680Data", "\u1680Test\u1680\r\n\u1680Data", "\u1680Test\u1680\r\u1680Data",
                        "\u1680Test\u1680\f\u1680Data", "\u1680Test\u1680\u0085\u1680Data", "\u1680Test\u1680\u2028\u1680Data", "\u1680Test\u1680\u2029\u1680Data"),
                new TestData(new String[]{"Test", "\u1680Data"}, "Test\u1680\n\u1680Data\u1680", "Test\u1680\r\n\u1680Data\u1680", "Test\u1680\r\u1680Data\u1680",
                        "Test\u1680\f\u1680Data\u1680", "Test\u1680\u0085\u1680Data\u1680", "Test\u1680\u2028\u1680Data\u1680", "Test\u1680\u2029\u1680Data\u1680"),
                new TestData(new String[]{"", "\u1680Test"}, "\u1680\n\u1680Test", "\n\u1680Test\u1680", "\u1680\r\n\u1680Test", "\r\n\u1680Test\u1680",
                        "\u1680\r\u1680Test", "\r\u1680Test\u1680", "\u1680\f\u1680Test", "\f\u1680Test\u1680", "\u1680\u0085\u1680Test", "\u0085\u1680Test\u1680",
                        "\u1680\u2028\u1680Test", "\u2028\u1680Test\u1680", "\u1680\u2029\u1680Test", "\u2029\u1680Test\u1680"),
                new TestData(new String[]{"", "\u1680Test", ""}, "\n\u1680Test\u1680\n", "\u1680\n\u1680Test\u1680\n\u1680", "\r\n\u1680Test\u1680\r\n",
                        "\u1680\r\n\u1680Test\u1680\r\n\u1680", "\r\u1680Test\u1680\r", "\u1680\r\u1680Test\u1680\r\u1680", "\f\u1680Test\u1680\f",
                        "\u1680\f\u1680Test\u1680\f\u1680", "\u0085\u1680Test\u1680\u0085", "\u1680\u0085\u1680Test\u1680\u0085\u1680", "\u2028\u1680Test\u1680\u2028",
                        "\u1680\u2028\u1680Test\u1680\u2028\u1680", "\u2029\u1680Test\u1680\u2029", "\u1680\u2029\u1680Test\u1680\u2029\u1680"),
                new TestData(new String[]{"Test", "Data"}, "Test\nData", "Test\r\nData", "Test\rData", "Test\fData", "Test\u0085Data", "Test\u2028Data",
                        "Test\u2029Data"),
                new TestData(new String[]{"", "Test"}, "\nTest", "\r\nTest", "\rTest", "\fTest", "\u0085Test", "\u2028Test", "\u2029Test"),
                new TestData(new String[]{"", "Test", ""}, "\nTest\n", "\r\nTest\r\n", "\rTest\r", "\fTest\f", "\u0085Test\u0085", "\u2028Test\u2028",
                        "\u2029Test\u2029"),
                new TestData(new String[]{"Test", "", "Data"}, "Test\n\nData", "Test\n\r\nData", "Test\n\rData", "Test\n\fData", "Test\n\u0085Data", "Test\n\u2028Data",
                        "Test\n\u2029Data", "Test\r\n\nData", "Test\r\n\r\nData", "Test\r\n\rData", "Test\r\n\fData", "Test\r\n\u0085Data", "Test\r\n\u2028Data",
                        "Test\r\n\u2029Data", "Test\r\r\nData", "Test\r\rData", "Test\r\fData", "Test\r\u0085Data", "Test\r\u2028Data", "Test\r\u2029Data", "Test\f\nData",
                        "Test\f\r\nData", "Test\f\rData", "Test\f\fData", "Test\f\u0085Data", "Test\f\u2028Data", "Test\f\u2029Data", "Test\u0085\nData",
                        "Test\u0085\r\nData", "Test\u0085\rData", "Test\u0085\fData", "Test\u0085\u0085Data", "Test\u0085\u2028Data", "Test\u0085\u2029Data",
                        "Test\u2028\nData", "Test\u2028\r\nData", "Test\u2028\rData", "Test\u2028\fData", "Test\u2028\u0085Data", "Test\u2028\u2028Data",
                        "Test\u2028\u2029Data", "Test\u2029\nData", "Test\u2029\r\nData", "Test\u2029\rData", "Test\u2029\fData", "Test\u2029\u0085Data",
                        "Test\u2029\u2028Data", "Test\u2029\u2029Data"),
                new TestData(new String[]{"Test", "", ""}, "Test\n\n", "Test\n\r\n", "Test\n\r", "Test\n\f", "Test\n\u0085", "Test\n\u2028", "Test\n\u2029",
                        "Test\r\n\n", "Test\r\n\r\n", "Test\r\n\r", "Test\r\n\f", "Test\r\n\u0085", "Test\r\n\u2028", "Test\r\n\u2029", "Test\r\r\n", "Test\r\r", "Test\r\f",
                        "Test\r\u0085", "Test\r\u2028", "Test\r\u2029", "Test\f\n", "Test\f\r\n", "Test\f\r", "Test\f\f", "Test\f\u0085", "Test\f\u2028", "Test\f\u2029",
                        "Test\u0085\n", "Test\u0085\r\n", "Test\u0085\r", "Test\u0085\f", "Test\u0085\u0085", "Test\u0085\u2028", "Test\u0085\u2029", "Test\u2028\n",
                        "Test\u2028\r\n", "Test\u2028\r", "Test\u2028\f", "Test\u2028\u0085", "Test\u2028\u2028", "Test\u2028\u2029", "Test\u2029\n", "Test\u2029\r\n",
                        "Test\u2029\r", "Test\u2029\f", "Test\u2029\u0085", "Test\u2029\u2028", "Test\u2029\u2029"),
                new TestData(new String[]{"", "", "Test"}, "\n\nTest", "\n\r\nTest", "\n\rTest", "\n\fTest", "\n\u0085Test", "\n\u2028Test", "\n\u2029Test",
                        "\r\n\nTest", "\r\n\r\nTest", "\r\n\rTest", "\r\n\fTest", "\r\n\u0085Test", "\r\n\u2028Test", "\r\n\u2029Test", "\r\r\nTest", "\r\rTest", "\r\fTest",
                        "\r\u0085Test", "\r\u2028Test", "\r\u2029Test", "\f\nTest", "\f\r\nTest", "\f\rTest", "\f\fTest", "\f\u0085Test", "\f\u2028Test", "\f\u2029Test",
                        "\u0085\nTest", "\u0085\r\nTest", "\u0085\rTest", "\u0085\fTest", "\u0085\u0085Test", "\u0085\u2028Test", "\u0085\u2029Test", "\u2028\nTest",
                        "\u2028\r\nTest", "\u2028\rTest", "\u2028\fTest", "\u2028\u0085Test", "\u2028\u2028Test", "\u2028\u2029Test", "\u2029\nTest", "\u2029\r\nTest",
                        "\u2029\rTest", "\u2029\fTest", "\u2029\u0085Test", "\u2029\u2028Test", "\u2029\u2029Test"),
                new TestData(new String[]{"", "", "Test", "", ""}, "\n\nTest\n\n", "\n\r\nTest\n\r\n", "\n\rTest\n\r", "\n\fTest\n\f", "\n\u0085Test\n\u0085",
                        "\n\u2028Test\n\u2028", "\n\u2029Test\n\u2029", "\r\n\nTest\r\n\n", "\r\n\r\nTest\r\n\r\n", "\r\n\rTest\r\n\r", "\r\n\fTest\r\n\f",
                        "\r\n\u0085Test\r\n\u0085", "\r\n\u2028Test\r\n\u2028", "\r\n\u2029Test\r\n\u2029", "\r\r\nTest\r\r\n", "\r\rTest\r\r", "\r\fTest\r\f",
                        "\r\u0085Test\r\u0085", "\r\u2028Test\r\u2028", "\r\u2029Test\r\u2029", "\f\nTest\f\n", "\f\r\nTest\f\r\n", "\f\rTest\f\r", "\f\fTest\f\f",
                        "\f\u0085Test\f\u0085", "\f\u2028Test\f\u2028", "\f\u2029Test\f\u2029", "\u0085\nTest\u0085\n", "\u0085\r\nTest\u0085\r\n", "\u0085\rTest\u0085\r",
                        "\u0085\fTest\u0085\f", "\u0085\u0085Test\u0085\u0085", "\u0085\u2028Test\u0085\u2028", "\u0085\u2029Test\u0085\u2029", "\u2028\nTest\u2028\n",
                        "\u2028\r\nTest\u2028\r\n", "\u2028\rTest\u2028\r", "\u2028\fTest\u2028\f", "\u2028\u0085Test\u2028\u0085", "\u2028\u2028Test\u2028\u2028",
                        "\u2028\u2029Test\u2028\u2029", "\u2029\nTest\u2029\n", "\u2029\r\nTest\u2029\r\n", "\u2029\rTest\u2029\r", "\u2029\fTest\u2029\f",
                        "\u2029\u0085Test\u2029\u0085", "\u2029\u2028Test\u2029\u2028", "\u2029\u2029Test\u2029\u2029"),
                new TestData(new String[]{"\u00A0 _"}, "\u00A0 _"),
                new TestData(new String[]{"\u00A0  _"}, "\u00A0  _"),
                new TestData(new String[]{" \u00A0"}, " \u00A0", " \u00A0 "),
                new TestData(new String[]{"  \u00A0"}, "  \u00A0  "),
                new TestData(new String[]{" \u00A0", " _"}, " \u00A0 \n _", " \u00A0 \r\n _", " \u00A0 \r _", " \u00A0 \f _", " \u00A0 \u0085 _", " \u00A0 \u2028 _",
                        " \u00A0 \u2029 _"),
                new TestData(new String[]{"\u00A0", " _"}, "\u00A0 \n _ ", "\u00A0 \r\n _ ", "\u00A0 \r _ ", "\u00A0 \f _ ", "\u00A0 \u0085 _ ", "\u00A0 \u2028 _ ",
                        "\u00A0 \u2029 _ "),
                new TestData(new String[]{"", " \u00A0"}, " \n \u00A0", "\n \u00A0 ", " \r\n \u00A0", "\r\n \u00A0 ", " \r \u00A0", "\r \u00A0 ", " \f \u00A0",
                        "\f \u00A0 ", " \u0085 \u00A0", "\u0085 \u00A0 ", " \u2028 \u00A0", "\u2028 \u00A0 ", " \u2029 \u00A0", "\u2029 \u00A0 "),
                new TestData(new String[]{"", " \u00A0", ""}, "\n \u00A0 \n", " \n \u00A0 \n ", "\r\n \u00A0 \r\n", " \r\n \u00A0 \r\n ", "\r \u00A0 \r",
                        " \r \u00A0 \r ", "\f \u00A0 \f", " \f \u00A0 \f ", "\u0085 \u00A0 \u0085", " \u0085 \u00A0 \u0085 ", "\u2028 \u00A0 \u2028",
                        " \u2028 \u00A0 \u2028 ", "\u2029 \u00A0 \u2029", " \u2029 \u00A0 \u2029 "),
                new TestData(new String[]{"\u00A0\t_"}, "\u00A0\t_"),
                new TestData(new String[]{"\u00A0\t\t_"}, "\u00A0\t\t_"),
                new TestData(new String[]{"\t\u00A0"}, "\t\u00A0", "\t\u00A0\t"),
                new TestData(new String[]{"\t\t\u00A0"}, "\t\t\u00A0\t\t"),
                new TestData(new String[]{"\t\u00A0", "\t_"}, "\t\u00A0\t\n\t_", "\t\u00A0\t\r\n\t_", "\t\u00A0\t\r\t_", "\t\u00A0\t\f\t_", "\t\u00A0\t\u0085\t_",
                        "\t\u00A0\t\u2028\t_", "\t\u00A0\t\u2029\t_"),
                new TestData(new String[]{"\u00A0", "\t_"}, "\u00A0\t\n\t_\t", "\u00A0\t\r\n\t_\t", "\u00A0\t\r\t_\t", "\u00A0\t\f\t_\t", "\u00A0\t\u0085\t_\t",
                        "\u00A0\t\u2028\t_\t", "\u00A0\t\u2029\t_\t"),
                new TestData(new String[]{"", "\t\u00A0"}, "\t\n\t\u00A0", "\n\t\u00A0\t", "\t\r\n\t\u00A0", "\r\n\t\u00A0\t", "\t\r\t\u00A0", "\r\t\u00A0\t",
                        "\t\f\t\u00A0", "\f\t\u00A0\t", "\t\u0085\t\u00A0", "\u0085\t\u00A0\t", "\t\u2028\t\u00A0", "\u2028\t\u00A0\t", "\t\u2029\t\u00A0",
                        "\u2029\t\u00A0\t"),
                new TestData(new String[]{"", "\t\u00A0", ""}, "\n\t\u00A0\t\n", "\t\n\t\u00A0\t\n\t", "\r\n\t\u00A0\t\r\n", "\t\r\n\t\u00A0\t\r\n\t", "\r\t\u00A0\t\r",
                        "\t\r\t\u00A0\t\r\t", "\f\t\u00A0\t\f", "\t\f\t\u00A0\t\f\t", "\u0085\t\u00A0\t\u0085", "\t\u0085\t\u00A0\t\u0085\t", "\u2028\t\u00A0\t\u2028",
                        "\t\u2028\t\u00A0\t\u2028\t", "\u2029\t\u00A0\t\u2029", "\t\u2029\t\u00A0\t\u2029\t"),
                new TestData(new String[]{"\u00A0\u1680_"}, "\u00A0\u1680_"),
                new TestData(new String[]{"\u00A0\u1680\u1680_"}, "\u00A0\u1680\u1680_"),
                new TestData(new String[]{"\u1680\u00A0"}, "\u1680\u00A0", "\u1680\u00A0\u1680"),
                new TestData(new String[]{"\u1680\u1680\u00A0"}, "\u1680\u1680\u00A0\u1680\u1680"),
                new TestData(new String[]{"\u1680\u00A0", "\u1680_"}, "\u1680\u00A0\u1680\n\u1680_", "\u1680\u00A0\u1680\r\n\u1680_", "\u1680\u00A0\u1680\r\u1680_",
                        "\u1680\u00A0\u1680\f\u1680_", "\u1680\u00A0\u1680\u0085\u1680_", "\u1680\u00A0\u1680\u2028\u1680_", "\u1680\u00A0\u1680\u2029\u1680_"),
                new TestData(new String[]{"\u00A0", "\u1680_"}, "\u00A0\u1680\n\u1680_\u1680", "\u00A0\u1680\r\n\u1680_\u1680", "\u00A0\u1680\r\u1680_\u1680",
                        "\u00A0\u1680\f\u1680_\u1680", "\u00A0\u1680\u0085\u1680_\u1680", "\u00A0\u1680\u2028\u1680_\u1680", "\u00A0\u1680\u2029\u1680_\u1680"),
                new TestData(new String[]{"", "\u1680\u00A0"}, "\u1680\n\u1680\u00A0", "\n\u1680\u00A0\u1680", "\u1680\r\n\u1680\u00A0", "\r\n\u1680\u00A0\u1680",
                        "\u1680\r\u1680\u00A0", "\r\u1680\u00A0\u1680", "\u1680\f\u1680\u00A0", "\f\u1680\u00A0\u1680", "\u1680\u0085\u1680\u00A0",
                        "\u0085\u1680\u00A0\u1680", "\u1680\u2028\u1680\u00A0", "\u2028\u1680\u00A0\u1680", "\u1680\u2029\u1680\u00A0", "\u2029\u1680\u00A0\u1680"),
                new TestData(new String[]{"", "\u1680\u00A0", ""}, "\n\u1680\u00A0\u1680\n", "\u1680\n\u1680\u00A0\u1680\n\u1680", "\r\n\u1680\u00A0\u1680\r\n",
                        "\u1680\r\n\u1680\u00A0\u1680\r\n\u1680", "\r\u1680\u00A0\u1680\r", "\u1680\r\u1680\u00A0\u1680\r\u1680", "\f\u1680\u00A0\u1680\f",
                        "\u1680\f\u1680\u00A0\u1680\f\u1680", "\u0085\u1680\u00A0\u1680\u0085", "\u1680\u0085\u1680\u00A0\u1680\u0085\u1680",
                        "\u2028\u1680\u00A0\u1680\u2028", "\u1680\u2028\u1680\u00A0\u1680\u2028\u1680", "\u2029\u1680\u00A0\u1680\u2029",
                        "\u1680\u2029\u1680\u00A0\u1680\u2029\u1680"),
                new TestData(new String[]{"\u00A0", "_"}, "\u00A0\n_", "\u00A0\r\n_", "\u00A0\r_", "\u00A0\f_", "\u00A0\u0085_", "\u00A0\u2028_", "\u00A0\u2029_"),
                new TestData(new String[]{"", "\u00A0"}, "\n\u00A0", "\r\n\u00A0", "\r\u00A0", "\f\u00A0", "\u0085\u00A0", "\u2028\u00A0", "\u2029\u00A0"),
                new TestData(new String[]{"", "\u00A0", ""}, "\n\u00A0\n", "\r\n\u00A0\r\n", "\r\u00A0\r", "\f\u00A0\f", "\u0085\u00A0\u0085", "\u2028\u00A0\u2028",
                        "\u2029\u00A0\u2029"),
                new TestData(new String[]{"\u00A0", "", "_"}, "\u00A0\n\n_", "\u00A0\n\r\n_", "\u00A0\n\r_", "\u00A0\n\f_", "\u00A0\n\u0085_", "\u00A0\n\u2028_",
                        "\u00A0\n\u2029_", "\u00A0\r\n\n_", "\u00A0\r\n\r\n_", "\u00A0\r\n\r_", "\u00A0\r\n\f_", "\u00A0\r\n\u0085_", "\u00A0\r\n\u2028_",
                        "\u00A0\r\n\u2029_", "\u00A0\r\r\n_", "\u00A0\r\r_", "\u00A0\r\f_", "\u00A0\r\u0085_", "\u00A0\r\u2028_", "\u00A0\r\u2029_", "\u00A0\f\n_",
                        "\u00A0\f\r\n_", "\u00A0\f\r_", "\u00A0\f\f_", "\u00A0\f\u0085_", "\u00A0\f\u2028_", "\u00A0\f\u2029_", "\u00A0\u0085\n_", "\u00A0\u0085\r\n_",
                        "\u00A0\u0085\r_", "\u00A0\u0085\f_", "\u00A0\u0085\u0085_", "\u00A0\u0085\u2028_", "\u00A0\u0085\u2029_", "\u00A0\u2028\n_", "\u00A0\u2028\r\n_",
                        "\u00A0\u2028\r_", "\u00A0\u2028\f_", "\u00A0\u2028\u0085_", "\u00A0\u2028\u2028_", "\u00A0\u2028\u2029_", "\u00A0\u2029\n_", "\u00A0\u2029\r\n_",
                        "\u00A0\u2029\r_", "\u00A0\u2029\f_", "\u00A0\u2029\u0085_", "\u00A0\u2029\u2028_", "\u00A0\u2029\u2029_"),
                new TestData(new String[]{"\u00A0", "", ""}, "\u00A0\n\n", "\u00A0\n\r\n", "\u00A0\n\r", "\u00A0\n\f", "\u00A0\n\u0085", "\u00A0\n\u2028",
                        "\u00A0\n\u2029", "\u00A0\r\n\n", "\u00A0\r\n\r\n", "\u00A0\r\n\r", "\u00A0\r\n\f", "\u00A0\r\n\u0085", "\u00A0\r\n\u2028", "\u00A0\r\n\u2029",
                        "\u00A0\r\r\n", "\u00A0\r\r", "\u00A0\r\f", "\u00A0\r\u0085", "\u00A0\r\u2028", "\u00A0\r\u2029", "\u00A0\f\n", "\u00A0\f\r\n", "\u00A0\f\r",
                        "\u00A0\f\f", "\u00A0\f\u0085", "\u00A0\f\u2028", "\u00A0\f\u2029", "\u00A0\u0085\n", "\u00A0\u0085\r\n", "\u00A0\u0085\r", "\u00A0\u0085\f",
                        "\u00A0\u0085\u0085", "\u00A0\u0085\u2028", "\u00A0\u0085\u2029", "\u00A0\u2028\n", "\u00A0\u2028\r\n", "\u00A0\u2028\r", "\u00A0\u2028\f",
                        "\u00A0\u2028\u0085", "\u00A0\u2028\u2028", "\u00A0\u2028\u2029", "\u00A0\u2029\n", "\u00A0\u2029\r\n", "\u00A0\u2029\r", "\u00A0\u2029\f",
                        "\u00A0\u2029\u0085", "\u00A0\u2029\u2028", "\u00A0\u2029\u2029"),
                new TestData(new String[]{"", "", "\u00A0"}, "\n\n\u00A0", "\n\r\n\u00A0", "\n\r\u00A0", "\n\f\u00A0", "\n\u0085\u00A0", "\n\u2028\u00A0",
                        "\n\u2029\u00A0", "\r\n\n\u00A0", "\r\n\r\n\u00A0", "\r\n\r\u00A0", "\r\n\f\u00A0", "\r\n\u0085\u00A0", "\r\n\u2028\u00A0", "\r\n\u2029\u00A0",
                        "\r\r\n\u00A0", "\r\r\u00A0", "\r\f\u00A0", "\r\u0085\u00A0", "\r\u2028\u00A0", "\r\u2029\u00A0", "\f\n\u00A0", "\f\r\n\u00A0", "\f\r\u00A0",
                        "\f\f\u00A0", "\f\u0085\u00A0", "\f\u2028\u00A0", "\f\u2029\u00A0", "\u0085\n\u00A0", "\u0085\r\n\u00A0", "\u0085\r\u00A0", "\u0085\f\u00A0",
                        "\u0085\u0085\u00A0", "\u0085\u2028\u00A0", "\u0085\u2029\u00A0", "\u2028\n\u00A0", "\u2028\r\n\u00A0", "\u2028\r\u00A0", "\u2028\f\u00A0",
                        "\u2028\u0085\u00A0", "\u2028\u2028\u00A0", "\u2028\u2029\u00A0", "\u2029\n\u00A0", "\u2029\r\n\u00A0", "\u2029\r\u00A0", "\u2029\f\u00A0",
                        "\u2029\u0085\u00A0", "\u2029\u2028\u00A0", "\u2029\u2029\u00A0"),
                new TestData(new String[]{"", "", "\u00A0", "", ""}, "\n\n\u00A0\n\n", "\n\r\n\u00A0\n\r\n", "\n\r\u00A0\n\r", "\n\f\u00A0\n\f",
                        "\n\u0085\u00A0\n\u0085", "\n\u2028\u00A0\n\u2028", "\n\u2029\u00A0\n\u2029", "\r\n\n\u00A0\r\n\n", "\r\n\r\n\u00A0\r\n\r\n", "\r\n\r\u00A0\r\n\r",
                        "\r\n\f\u00A0\r\n\f", "\r\n\u0085\u00A0\r\n\u0085", "\r\n\u2028\u00A0\r\n\u2028", "\r\n\u2029\u00A0\r\n\u2029", "\r\r\n\u00A0\r\r\n",
                        "\r\r\u00A0\r\r", "\r\f\u00A0\r\f", "\r\u0085\u00A0\r\u0085", "\r\u2028\u00A0\r\u2028", "\r\u2029\u00A0\r\u2029", "\f\n\u00A0\f\n",
                        "\f\r\n\u00A0\f\r\n", "\f\r\u00A0\f\r", "\f\f\u00A0\f\f", "\f\u0085\u00A0\f\u0085", "\f\u2028\u00A0\f\u2028", "\f\u2029\u00A0\f\u2029",
                        "\u0085\n\u00A0\u0085\n", "\u0085\r\n\u00A0\u0085\r\n", "\u0085\r\u00A0\u0085\r", "\u0085\f\u00A0\u0085\f", "\u0085\u0085\u00A0\u0085\u0085",
                        "\u0085\u2028\u00A0\u0085\u2028", "\u0085\u2029\u00A0\u0085\u2029", "\u2028\n\u00A0\u2028\n", "\u2028\r\n\u00A0\u2028\r\n", "\u2028\r\u00A0\u2028\r",
                        "\u2028\f\u00A0\u2028\f", "\u2028\u0085\u00A0\u2028\u0085", "\u2028\u2028\u00A0\u2028\u2028", "\u2028\u2029\u00A0\u2028\u2029",
                        "\u2029\n\u00A0\u2029\n", "\u2029\r\n\u00A0\u2029\r\n", "\u2029\r\u00A0\u2029\r", "\u2029\f\u00A0\u2029\f", "\u2029\u0085\u00A0\u2029\u0085",
                        "\u2029\u2028\u00A0\u2029\u2028", "\u2029\u2029\u00A0\u2029\u2029")
        };
        for (TestData t : testData) {
            List<String> expected = t.expected;
            t.source.forEach(u -> {
                StringLineIterator target = StringLineIterator.create(u.source, false, true);
                String description = u.description;
                assertTrue(description, target.hasNext());
                String line = target.next();
                String d = String.format("%s, index 0", description);
                assertNotNull(d, line);
                Assert.assertFalse(d, line.contains("\n"));
                int index = 0;
                Iterator<String> srcIterator = expected.iterator();
                assertTrue(description, srcIterator.hasNext());
                String exp = srcIterator.next();
                assertEquals(description, exp, line);
                while (target.hasNext()) {
                    line = target.next();
                    d = String.format("%s, index %d", description, ++index);
                    assertTrue(d, srcIterator.hasNext());
                    assertNotNull(d, line);
                    exp = srcIterator.next();
                    assertEquals(d, exp, line);
                }
                assertFalse(srcIterator.hasNext());
            });
        }
    }

    @Test
    public void trimTest() {
        TestData[] testData = new TestData[]{
                new TestData(new String[]{""}, "", " ", "  ", " \t", " \u1680", "\t", "\t ", "\t\t", "\t\u1680", "\u1680", "\u1680 ", "\u1680\t", "\u1680\u1680"),
                new TestData(new String[]{"Test"}, "Test", "Test ", " Test", " Test ", "  Test  ", "Test\t", "\tTest", "\tTest\t", "\t\tTest\t\t", "Test\u1680",
                        "\u1680Test", "\u1680Test\u1680", "\u1680\u1680Test\u1680\u1680"),
                new TestData(new String[]{"_"}, "_"),
                new TestData(new String[]{"\u00A0"}, "\u00A0", "\u00A0 ", " \u00A0", " \u00A0 ", "  \u00A0  ", "\u00A0\t", "\t\u00A0", "\t\u00A0\t", "\t\t\u00A0\t\t",
                        "\u00A0\u1680", "\u1680\u00A0", "\u1680\u00A0\u1680", "\u1680\u1680\u00A0\u1680\u1680"),
                new TestData(new String[]{"", ""}, "\n", "\r\n", "\r", "\f", "\u0085", "\u2028", "\u2029", " \n ", "\n ", " \r\n ", "\r\n ", " \r ", "\r ", " \f ",
                        "\f ", " \u0085 ", "\u0085 ", " \u2028 ", "\u2028 ", " \u2029 ", "\u2029 ", "\t\n\t", "\n\t", "\t\r\n\t", "\r\n\t", "\t\r\t", "\r\t", "\t\f\t",
                        "\f\t", "\t\u0085\t", "\u0085\t", "\t\u2028\t", "\u2028\t", "\t\u2029\t", "\u2029\t", "\u1680\n\u1680", "\n\u1680", "\u1680\r\n\u1680", "\r\n\u1680",
                        "\u1680\r\u1680", "\r\u1680", "\u1680\f\u1680", "\f\u1680", "\u1680\u0085\u1680", "\u0085\u1680", "\u1680\u2028\u1680", "\u2028\u1680",
                        "\u1680\u2029\u1680", "\u2029\u1680"),
                new TestData(new String[]{"", "", ""}, "\n\n", "\n\r\n", "\n\r", "\n\f", "\n\u0085", "\n\u2028", "\n\u2029", "\r\n\n", "\r\n\r\n", "\r\n\r", "\r\n\f",
                        "\r\n\u0085", "\r\n\u2028", "\r\n\u2029", "\r\r\n", "\r\r", "\r\f", "\r\u0085", "\r\u2028", "\r\u2029", "\f\n", "\f\r\n", "\f\r", "\f\f", "\f\u0085",
                        "\f\u2028", "\f\u2029", "\u0085\n", "\u0085\r\n", "\u0085\r", "\u0085\f", "\u0085\u0085", "\u0085\u2028", "\u0085\u2029", "\u2028\n", "\u2028\r\n",
                        "\u2028\r", "\u2028\f", "\u2028\u0085", "\u2028\u2028", "\u2028\u2029", "\u2029\n", "\u2029\r\n", "\u2029\r", "\u2029\f", "\u2029\u0085",
                        "\u2029\u2028", "\u2029\u2029", "\n \n", "\r\n \r\n", "\r \r", "\f \f", "\u0085 \u0085", "\u2028 \u2028", "\u2029 \u2029", " \n\n ", "\n\n ",
                        " \n\r\n ", "\n\r\n ", " \n\r ", "\n\r ", " \n\f ", "\n\f ", " \n\u0085 ", "\n\u0085 ", " \n\u2028 ", "\n\u2028 ", " \n\u2029 ", "\n\u2029 ",
                        " \r\n\n ", "\r\n\n ", " \r\n\r\n ", "\r\n\r\n ", " \r\n\r ", "\r\n\r ", " \r\n\f ", "\r\n\f ", " \r\n\u0085 ", "\r\n\u0085 ", " \r\n\u2028 ",
                        "\r\n\u2028 ", " \r\n\u2029 ", "\r\n\u2029 ", " \r\r\n ", "\r\r\n ", " \r\r ", "\r\r ", " \r\f ", "\r\f ", " \r\u0085 ", "\r\u0085 ", " \r\u2028 ",
                        "\r\u2028 ", " \r\u2029 ", "\r\u2029 ", " \f\n ", "\f\n ", " \f\r\n ", "\f\r\n ", " \f\r ", "\f\r ", " \f\f ", "\f\f ", " \f\u0085 ", "\f\u0085 ",
                        " \f\u2028 ", "\f\u2028 ", " \f\u2029 ", "\f\u2029 ", " \u0085\n ", "\u0085\n ", " \u0085\r\n ", "\u0085\r\n ", " \u0085\r ", "\u0085\r ",
                        " \u0085\f ", "\u0085\f ", " \u0085\u0085 ", "\u0085\u0085 ", " \u0085\u2028 ", "\u0085\u2028 ", " \u0085\u2029 ", "\u0085\u2029 ", " \u2028\n ",
                        "\u2028\n ", " \u2028\r\n ", "\u2028\r\n ", " \u2028\r ", "\u2028\r ", " \u2028\f ", "\u2028\f ", " \u2028\u0085 ", "\u2028\u0085 ",
                        " \u2028\u2028 ", "\u2028\u2028 ", " \u2028\u2029 ", "\u2028\u2029 ", " \u2029\n ", "\u2029\n ", " \u2029\r\n ", "\u2029\r\n ", " \u2029\r ",
                        "\u2029\r ", " \u2029\f ", "\u2029\f ", " \u2029\u0085 ", "\u2029\u0085 ", " \u2029\u2028 ", "\u2029\u2028 ", " \u2029\u2029 ", "\u2029\u2029 ",
                        "\n\t\n", "\r\n\t\r\n", "\r\t\r", "\f\t\f", "\u0085\t\u0085", "\u2028\t\u2028", "\u2029\t\u2029", "\t\n\n\t", "\n\n\t", "\t\n\r\n\t", "\n\r\n\t",
                        "\t\n\r\t", "\n\r\t", "\t\n\f\t", "\n\f\t", "\t\n\u0085\t", "\n\u0085\t", "\t\n\u2028\t", "\n\u2028\t", "\t\n\u2029\t", "\n\u2029\t", "\t\r\n\n\t",
                        "\r\n\n\t", "\t\r\n\r\n\t", "\r\n\r\n\t", "\t\r\n\r\t", "\r\n\r\t", "\t\r\n\f\t", "\r\n\f\t", "\t\r\n\u0085\t", "\r\n\u0085\t", "\t\r\n\u2028\t",
                        "\r\n\u2028\t", "\t\r\n\u2029\t", "\r\n\u2029\t", "\t\r\r\n\t", "\r\r\n\t", "\t\r\r\t", "\r\r\t", "\t\r\f\t", "\r\f\t", "\t\r\u0085\t", "\r\u0085\t",
                        "\t\r\u2028\t", "\r\u2028\t", "\t\r\u2029\t", "\r\u2029\t", "\t\f\n\t", "\f\n\t", "\t\f\r\n\t", "\f\r\n\t", "\t\f\r\t", "\f\r\t", "\t\f\f\t",
                        "\f\f\t", "\t\f\u0085\t", "\f\u0085\t", "\t\f\u2028\t", "\f\u2028\t", "\t\f\u2029\t", "\f\u2029\t", "\t\u0085\n\t", "\u0085\n\t", "\t\u0085\r\n\t",
                        "\u0085\r\n\t", "\t\u0085\r\t", "\u0085\r\t", "\t\u0085\f\t", "\u0085\f\t", "\t\u0085\u0085\t", "\u0085\u0085\t", "\t\u0085\u2028\t",
                        "\u0085\u2028\t", "\t\u0085\u2029\t", "\u0085\u2029\t", "\t\u2028\n\t", "\u2028\n\t", "\t\u2028\r\n\t", "\u2028\r\n\t", "\t\u2028\r\t", "\u2028\r\t",
                        "\t\u2028\f\t", "\u2028\f\t", "\t\u2028\u0085\t", "\u2028\u0085\t", "\t\u2028\u2028\t", "\u2028\u2028\t", "\t\u2028\u2029\t", "\u2028\u2029\t",
                        "\t\u2029\n\t", "\u2029\n\t", "\t\u2029\r\n\t", "\u2029\r\n\t", "\t\u2029\r\t", "\u2029\r\t", "\t\u2029\f\t", "\u2029\f\t", "\t\u2029\u0085\t",
                        "\u2029\u0085\t", "\t\u2029\u2028\t", "\u2029\u2028\t", "\t\u2029\u2029\t", "\u2029\u2029\t", "\n\u1680\n", "\r\n\u1680\r\n", "\r\u1680\r",
                        "\f\u1680\f", "\u0085\u1680\u0085", "\u2028\u1680\u2028", "\u2029\u1680\u2029", "\u1680\n\n\u1680", "\n\n\u1680", "\u1680\n\r\n\u1680",
                        "\n\r\n\u1680", "\u1680\n\r\u1680", "\n\r\u1680", "\u1680\n\f\u1680", "\n\f\u1680", "\u1680\n\u0085\u1680", "\n\u0085\u1680", "\u1680\n\u2028\u1680",
                        "\n\u2028\u1680", "\u1680\n\u2029\u1680", "\n\u2029\u1680", "\u1680\r\n\n\u1680", "\r\n\n\u1680", "\u1680\r\n\r\n\u1680", "\r\n\r\n\u1680",
                        "\u1680\r\n\r\u1680", "\r\n\r\u1680", "\u1680\r\n\f\u1680", "\r\n\f\u1680", "\u1680\r\n\u0085\u1680", "\r\n\u0085\u1680", "\u1680\r\n\u2028\u1680",
                        "\r\n\u2028\u1680", "\u1680\r\n\u2029\u1680", "\r\n\u2029\u1680", "\u1680\r\r\n\u1680", "\r\r\n\u1680", "\u1680\r\r\u1680", "\r\r\u1680",
                        "\u1680\r\f\u1680", "\r\f\u1680", "\u1680\r\u0085\u1680", "\r\u0085\u1680", "\u1680\r\u2028\u1680", "\r\u2028\u1680", "\u1680\r\u2029\u1680",
                        "\r\u2029\u1680", "\u1680\f\n\u1680", "\f\n\u1680", "\u1680\f\r\n\u1680", "\f\r\n\u1680", "\u1680\f\r\u1680", "\f\r\u1680", "\u1680\f\f\u1680",
                        "\f\f\u1680", "\u1680\f\u0085\u1680", "\f\u0085\u1680", "\u1680\f\u2028\u1680", "\f\u2028\u1680", "\u1680\f\u2029\u1680", "\f\u2029\u1680",
                        "\u1680\u0085\n\u1680", "\u0085\n\u1680", "\u1680\u0085\r\n\u1680", "\u0085\r\n\u1680", "\u1680\u0085\r\u1680", "\u0085\r\u1680",
                        "\u1680\u0085\f\u1680", "\u0085\f\u1680", "\u1680\u0085\u0085\u1680", "\u0085\u0085\u1680", "\u1680\u0085\u2028\u1680", "\u0085\u2028\u1680",
                        "\u1680\u0085\u2029\u1680", "\u0085\u2029\u1680", "\u1680\u2028\n\u1680", "\u2028\n\u1680", "\u1680\u2028\r\n\u1680", "\u2028\r\n\u1680",
                        "\u1680\u2028\r\u1680", "\u2028\r\u1680", "\u1680\u2028\f\u1680", "\u2028\f\u1680", "\u1680\u2028\u0085\u1680", "\u2028\u0085\u1680",
                        "\u1680\u2028\u2028\u1680", "\u2028\u2028\u1680", "\u1680\u2028\u2029\u1680", "\u2028\u2029\u1680", "\u1680\u2029\n\u1680", "\u2029\n\u1680",
                        "\u1680\u2029\r\n\u1680", "\u2029\r\n\u1680", "\u1680\u2029\r\u1680", "\u2029\r\u1680", "\u1680\u2029\f\u1680", "\u2029\f\u1680",
                        "\u1680\u2029\u0085\u1680", "\u2029\u0085\u1680", "\u1680\u2029\u2028\u1680", "\u2029\u2028\u1680", "\u1680\u2029\u2029\u1680", "\u2029\u2029\u1680"),
                new TestData(new String[]{"", "", "", "", ""}, "\n\n \n\n", "\n\r\n \n\r\n", "\n\r \n\r", "\n\f \n\f", "\n\u0085 \n\u0085", "\n\u2028 \n\u2028",
                        "\n\u2029 \n\u2029", "\r\n\n \r\n\n", "\r\n\r\n \r\n\r\n", "\r\n\r \r\n\r", "\r\n\f \r\n\f", "\r\n\u0085 \r\n\u0085", "\r\n\u2028 \r\n\u2028",
                        "\r\n\u2029 \r\n\u2029", "\r\r\n \r\r\n", "\r\r \r\r", "\r\f \r\f", "\r\u0085 \r\u0085", "\r\u2028 \r\u2028", "\r\u2029 \r\u2029", "\f\n \f\n",
                        "\f\r\n \f\r\n", "\f\r \f\r", "\f\f \f\f", "\f\u0085 \f\u0085", "\f\u2028 \f\u2028", "\f\u2029 \f\u2029", "\u0085\n \u0085\n",
                        "\u0085\r\n \u0085\r\n", "\u0085\r \u0085\r", "\u0085\f \u0085\f", "\u0085\u0085 \u0085\u0085", "\u0085\u2028 \u0085\u2028",
                        "\u0085\u2029 \u0085\u2029", "\u2028\n \u2028\n", "\u2028\r\n \u2028\r\n", "\u2028\r \u2028\r", "\u2028\f \u2028\f", "\u2028\u0085 \u2028\u0085",
                        "\u2028\u2028 \u2028\u2028", "\u2028\u2029 \u2028\u2029", "\u2029\n \u2029\n", "\u2029\r\n \u2029\r\n", "\u2029\r \u2029\r", "\u2029\f \u2029\f",
                        "\u2029\u0085 \u2029\u0085", "\u2029\u2028 \u2029\u2028", "\u2029\u2029 \u2029\u2029", "\n\n\t\n\n", "\n\r\n\t\n\r\n", "\n\r\t\n\r", "\n\f\t\n\f",
                        "\n\u0085\t\n\u0085", "\n\u2028\t\n\u2028", "\n\u2029\t\n\u2029", "\r\n\n\t\r\n\n", "\r\n\r\n\t\r\n\r\n", "\r\n\r\t\r\n\r", "\r\n\f\t\r\n\f",
                        "\r\n\u0085\t\r\n\u0085", "\r\n\u2028\t\r\n\u2028", "\r\n\u2029\t\r\n\u2029", "\r\r\n\t\r\r\n", "\r\r\t\r\r", "\r\f\t\r\f", "\r\u0085\t\r\u0085",
                        "\r\u2028\t\r\u2028", "\r\u2029\t\r\u2029", "\f\n\t\f\n", "\f\r\n\t\f\r\n", "\f\r\t\f\r", "\f\f\t\f\f", "\f\u0085\t\f\u0085", "\f\u2028\t\f\u2028",
                        "\f\u2029\t\f\u2029", "\u0085\n\t\u0085\n", "\u0085\r\n\t\u0085\r\n", "\u0085\r\t\u0085\r", "\u0085\f\t\u0085\f", "\u0085\u0085\t\u0085\u0085",
                        "\u0085\u2028\t\u0085\u2028", "\u0085\u2029\t\u0085\u2029", "\u2028\n\t\u2028\n", "\u2028\r\n\t\u2028\r\n", "\u2028\r\t\u2028\r",
                        "\u2028\f\t\u2028\f", "\u2028\u0085\t\u2028\u0085", "\u2028\u2028\t\u2028\u2028", "\u2028\u2029\t\u2028\u2029", "\u2029\n\t\u2029\n",
                        "\u2029\r\n\t\u2029\r\n", "\u2029\r\t\u2029\r", "\u2029\f\t\u2029\f", "\u2029\u0085\t\u2029\u0085", "\u2029\u2028\t\u2029\u2028",
                        "\u2029\u2029\t\u2029\u2029", "\n\n\u1680\n\n", "\n\r\n\u1680\n\r\n", "\n\r\u1680\n\r", "\n\f\u1680\n\f", "\n\u0085\u1680\n\u0085",
                        "\n\u2028\u1680\n\u2028", "\n\u2029\u1680\n\u2029", "\r\n\n\u1680\r\n\n", "\r\n\r\n\u1680\r\n\r\n", "\r\n\r\u1680\r\n\r", "\r\n\f\u1680\r\n\f",
                        "\r\n\u0085\u1680\r\n\u0085", "\r\n\u2028\u1680\r\n\u2028", "\r\n\u2029\u1680\r\n\u2029", "\r\r\n\u1680\r\r\n", "\r\r\u1680\r\r", "\r\f\u1680\r\f",
                        "\r\u0085\u1680\r\u0085", "\r\u2028\u1680\r\u2028", "\r\u2029\u1680\r\u2029", "\f\n\u1680\f\n", "\f\r\n\u1680\f\r\n", "\f\r\u1680\f\r",
                        "\f\f\u1680\f\f", "\f\u0085\u1680\f\u0085", "\f\u2028\u1680\f\u2028", "\f\u2029\u1680\f\u2029", "\u0085\n\u1680\u0085\n",
                        "\u0085\r\n\u1680\u0085\r\n", "\u0085\r\u1680\u0085\r", "\u0085\f\u1680\u0085\f", "\u0085\u0085\u1680\u0085\u0085", "\u0085\u2028\u1680\u0085\u2028",
                        "\u0085\u2029\u1680\u0085\u2029", "\u2028\n\u1680\u2028\n", "\u2028\r\n\u1680\u2028\r\n", "\u2028\r\u1680\u2028\r", "\u2028\f\u1680\u2028\f",
                        "\u2028\u0085\u1680\u2028\u0085", "\u2028\u2028\u1680\u2028\u2028", "\u2028\u2029\u1680\u2028\u2029", "\u2029\n\u1680\u2029\n",
                        "\u2029\r\n\u1680\u2029\r\n", "\u2029\r\u1680\u2029\r", "\u2029\f\u1680\u2029\f", "\u2029\u0085\u1680\u2029\u0085", "\u2029\u2028\u1680\u2029\u2028",
                        "\u2029\u2029\u1680\u2029\u2029"),
                new TestData(new String[]{"Test Data"}, "Test Data"),
                new TestData(new String[]{"Test  Data"}, "Test  Data"),
                new TestData(new String[]{"Test", "Data"}, " Test \n Data", "Test \n Data ", " Test \r\n Data", "Test \r\n Data ", " Test \r Data", "Test \r Data ",
                        " Test \f Data", "Test \f Data ", " Test \u0085 Data", "Test \u0085 Data ", " Test \u2028 Data", "Test \u2028 Data ", " Test \u2029 Data",
                        "Test \u2029 Data ", "\tTest\t\n\tData", "Test\t\n\tData\t", "\tTest\t\r\n\tData", "Test\t\r\n\tData\t", "\tTest\t\r\tData", "Test\t\r\tData\t",
                        "\tTest\t\f\tData", "Test\t\f\tData\t", "\tTest\t\u0085\tData", "Test\t\u0085\tData\t", "\tTest\t\u2028\tData", "Test\t\u2028\tData\t",
                        "\tTest\t\u2029\tData", "Test\t\u2029\tData\t", "\u1680Test\u1680\n\u1680Data", "Test\u1680\n\u1680Data\u1680", "\u1680Test\u1680\r\n\u1680Data",
                        "Test\u1680\r\n\u1680Data\u1680", "\u1680Test\u1680\r\u1680Data", "Test\u1680\r\u1680Data\u1680", "\u1680Test\u1680\f\u1680Data",
                        "Test\u1680\f\u1680Data\u1680", "\u1680Test\u1680\u0085\u1680Data", "Test\u1680\u0085\u1680Data\u1680", "\u1680Test\u1680\u2028\u1680Data",
                        "Test\u1680\u2028\u1680Data\u1680", "\u1680Test\u1680\u2029\u1680Data", "Test\u1680\u2029\u1680Data\u1680", "Test\nData", "Test\r\nData",
                        "Test\rData", "Test\fData", "Test\u0085Data", "Test\u2028Data", "Test\u2029Data"),
                new TestData(new String[]{"", "Test"}, " \n Test", "\n Test ", " \r\n Test", "\r\n Test ", " \r Test", "\r Test ", " \f Test", "\f Test ",
                        " \u0085 Test", "\u0085 Test ", " \u2028 Test", "\u2028 Test ", " \u2029 Test", "\u2029 Test ", "\t\n\tTest", "\n\tTest\t", "\t\r\n\tTest",
                        "\r\n\tTest\t", "\t\r\tTest", "\r\tTest\t", "\t\f\tTest", "\f\tTest\t", "\t\u0085\tTest", "\u0085\tTest\t", "\t\u2028\tTest", "\u2028\tTest\t",
                        "\t\u2029\tTest", "\u2029\tTest\t", "\u1680\n\u1680Test", "\n\u1680Test\u1680", "\u1680\r\n\u1680Test", "\r\n\u1680Test\u1680", "\u1680\r\u1680Test",
                        "\r\u1680Test\u1680", "\u1680\f\u1680Test", "\f\u1680Test\u1680", "\u1680\u0085\u1680Test", "\u0085\u1680Test\u1680", "\u1680\u2028\u1680Test",
                        "\u2028\u1680Test\u1680", "\u1680\u2029\u1680Test", "\u2029\u1680Test\u1680", "\nTest", "\r\nTest", "\rTest", "\fTest", "\u0085Test", "\u2028Test",
                        "\u2029Test"),
                new TestData(new String[]{"", "Test", ""}, "\n Test \n", " \n Test \n ", "\r\n Test \r\n", " \r\n Test \r\n ", "\r Test \r", " \r Test \r ",
                        "\f Test \f", " \f Test \f ", "\u0085 Test \u0085", " \u0085 Test \u0085 ", "\u2028 Test \u2028", " \u2028 Test \u2028 ", "\u2029 Test \u2029",
                        " \u2029 Test \u2029 ", "\n\tTest\t\n", "\t\n\tTest\t\n\t", "\r\n\tTest\t\r\n", "\t\r\n\tTest\t\r\n\t", "\r\tTest\t\r", "\t\r\tTest\t\r\t",
                        "\f\tTest\t\f", "\t\f\tTest\t\f\t", "\u0085\tTest\t\u0085", "\t\u0085\tTest\t\u0085\t", "\u2028\tTest\t\u2028", "\t\u2028\tTest\t\u2028\t",
                        "\u2029\tTest\t\u2029", "\t\u2029\tTest\t\u2029\t", "\n\u1680Test\u1680\n", "\u1680\n\u1680Test\u1680\n\u1680", "\r\n\u1680Test\u1680\r\n",
                        "\u1680\r\n\u1680Test\u1680\r\n\u1680", "\r\u1680Test\u1680\r", "\u1680\r\u1680Test\u1680\r\u1680", "\f\u1680Test\u1680\f",
                        "\u1680\f\u1680Test\u1680\f\u1680", "\u0085\u1680Test\u1680\u0085", "\u1680\u0085\u1680Test\u1680\u0085\u1680", "\u2028\u1680Test\u1680\u2028",
                        "\u1680\u2028\u1680Test\u1680\u2028\u1680", "\u2029\u1680Test\u1680\u2029", "\u1680\u2029\u1680Test\u1680\u2029\u1680", "\nTest\n", "\r\nTest\r\n",
                        "\rTest\r", "\fTest\f", "\u0085Test\u0085", "\u2028Test\u2028", "\u2029Test\u2029"),
                new TestData(new String[]{"Test\tData"}, "Test\tData"),
                new TestData(new String[]{"Test\t\tData"}, "Test\t\tData"),
                new TestData(new String[]{"Test\u1680Data"}, "Test\u1680Data"),
                new TestData(new String[]{"Test\u1680\u1680Data"}, "Test\u1680\u1680Data"),
                new TestData(new String[]{"Test", "", "Data"}, "Test\n\nData", "Test\n\r\nData", "Test\n\rData", "Test\n\fData", "Test\n\u0085Data", "Test\n\u2028Data",
                        "Test\n\u2029Data", "Test\r\n\nData", "Test\r\n\r\nData", "Test\r\n\rData", "Test\r\n\fData", "Test\r\n\u0085Data", "Test\r\n\u2028Data",
                        "Test\r\n\u2029Data", "Test\r\r\nData", "Test\r\rData", "Test\r\fData", "Test\r\u0085Data", "Test\r\u2028Data", "Test\r\u2029Data", "Test\f\nData",
                        "Test\f\r\nData", "Test\f\rData", "Test\f\fData", "Test\f\u0085Data", "Test\f\u2028Data", "Test\f\u2029Data", "Test\u0085\nData",
                        "Test\u0085\r\nData", "Test\u0085\rData", "Test\u0085\fData", "Test\u0085\u0085Data", "Test\u0085\u2028Data", "Test\u0085\u2029Data",
                        "Test\u2028\nData", "Test\u2028\r\nData", "Test\u2028\rData", "Test\u2028\fData", "Test\u2028\u0085Data", "Test\u2028\u2028Data",
                        "Test\u2028\u2029Data", "Test\u2029\nData", "Test\u2029\r\nData", "Test\u2029\rData", "Test\u2029\fData", "Test\u2029\u0085Data",
                        "Test\u2029\u2028Data", "Test\u2029\u2029Data"),
                new TestData(new String[]{"Test", "", ""}, "Test\n\n", "Test\n\r\n", "Test\n\r", "Test\n\f", "Test\n\u0085", "Test\n\u2028", "Test\n\u2029",
                        "Test\r\n\n", "Test\r\n\r\n", "Test\r\n\r", "Test\r\n\f", "Test\r\n\u0085", "Test\r\n\u2028", "Test\r\n\u2029", "Test\r\r\n", "Test\r\r", "Test\r\f",
                        "Test\r\u0085", "Test\r\u2028", "Test\r\u2029", "Test\f\n", "Test\f\r\n", "Test\f\r", "Test\f\f", "Test\f\u0085", "Test\f\u2028", "Test\f\u2029",
                        "Test\u0085\n", "Test\u0085\r\n", "Test\u0085\r", "Test\u0085\f", "Test\u0085\u0085", "Test\u0085\u2028", "Test\u0085\u2029", "Test\u2028\n",
                        "Test\u2028\r\n", "Test\u2028\r", "Test\u2028\f", "Test\u2028\u0085", "Test\u2028\u2028", "Test\u2028\u2029", "Test\u2029\n", "Test\u2029\r\n",
                        "Test\u2029\r", "Test\u2029\f", "Test\u2029\u0085", "Test\u2029\u2028", "Test\u2029\u2029"),
                new TestData(new String[]{"", "", "Test"}, "\n\nTest", "\n\r\nTest", "\n\rTest", "\n\fTest", "\n\u0085Test", "\n\u2028Test", "\n\u2029Test",
                        "\r\n\nTest", "\r\n\r\nTest", "\r\n\rTest", "\r\n\fTest", "\r\n\u0085Test", "\r\n\u2028Test", "\r\n\u2029Test", "\r\r\nTest", "\r\rTest", "\r\fTest",
                        "\r\u0085Test", "\r\u2028Test", "\r\u2029Test", "\f\nTest", "\f\r\nTest", "\f\rTest", "\f\fTest", "\f\u0085Test", "\f\u2028Test", "\f\u2029Test",
                        "\u0085\nTest", "\u0085\r\nTest", "\u0085\rTest", "\u0085\fTest", "\u0085\u0085Test", "\u0085\u2028Test", "\u0085\u2029Test", "\u2028\nTest",
                        "\u2028\r\nTest", "\u2028\rTest", "\u2028\fTest", "\u2028\u0085Test", "\u2028\u2028Test", "\u2028\u2029Test", "\u2029\nTest", "\u2029\r\nTest",
                        "\u2029\rTest", "\u2029\fTest", "\u2029\u0085Test", "\u2029\u2028Test", "\u2029\u2029Test"),
                new TestData(new String[]{"", "", "Test", "", ""}, "\n\nTest\n\n", "\n\r\nTest\n\r\n", "\n\rTest\n\r", "\n\fTest\n\f", "\n\u0085Test\n\u0085",
                        "\n\u2028Test\n\u2028", "\n\u2029Test\n\u2029", "\r\n\nTest\r\n\n", "\r\n\r\nTest\r\n\r\n", "\r\n\rTest\r\n\r", "\r\n\fTest\r\n\f",
                        "\r\n\u0085Test\r\n\u0085", "\r\n\u2028Test\r\n\u2028", "\r\n\u2029Test\r\n\u2029", "\r\r\nTest\r\r\n", "\r\rTest\r\r", "\r\fTest\r\f",
                        "\r\u0085Test\r\u0085", "\r\u2028Test\r\u2028", "\r\u2029Test\r\u2029", "\f\nTest\f\n", "\f\r\nTest\f\r\n", "\f\rTest\f\r", "\f\fTest\f\f",
                        "\f\u0085Test\f\u0085", "\f\u2028Test\f\u2028", "\f\u2029Test\f\u2029", "\u0085\nTest\u0085\n", "\u0085\r\nTest\u0085\r\n", "\u0085\rTest\u0085\r",
                        "\u0085\fTest\u0085\f", "\u0085\u0085Test\u0085\u0085", "\u0085\u2028Test\u0085\u2028", "\u0085\u2029Test\u0085\u2029", "\u2028\nTest\u2028\n",
                        "\u2028\r\nTest\u2028\r\n", "\u2028\rTest\u2028\r", "\u2028\fTest\u2028\f", "\u2028\u0085Test\u2028\u0085", "\u2028\u2028Test\u2028\u2028",
                        "\u2028\u2029Test\u2028\u2029", "\u2029\nTest\u2029\n", "\u2029\r\nTest\u2029\r\n", "\u2029\rTest\u2029\r", "\u2029\fTest\u2029\f",
                        "\u2029\u0085Test\u2029\u0085", "\u2029\u2028Test\u2029\u2028", "\u2029\u2029Test\u2029\u2029"),
                new TestData(new String[]{"\u00A0 _"}, "\u00A0 _"),
                new TestData(new String[]{"\u00A0  _"}, "\u00A0  _"),
                new TestData(new String[]{"\u00A0", "_"}, " \u00A0 \n _", "\u00A0 \n _ ", " \u00A0 \r\n _", "\u00A0 \r\n _ ", " \u00A0 \r _", "\u00A0 \r _ ",
                        " \u00A0 \f _", "\u00A0 \f _ ", " \u00A0 \u0085 _", "\u00A0 \u0085 _ ", " \u00A0 \u2028 _", "\u00A0 \u2028 _ ", " \u00A0 \u2029 _",
                        "\u00A0 \u2029 _ ", "\t\u00A0\t\n\t_", "\u00A0\t\n\t_\t", "\t\u00A0\t\r\n\t_", "\u00A0\t\r\n\t_\t", "\t\u00A0\t\r\t_", "\u00A0\t\r\t_\t",
                        "\t\u00A0\t\f\t_", "\u00A0\t\f\t_\t", "\t\u00A0\t\u0085\t_", "\u00A0\t\u0085\t_\t", "\t\u00A0\t\u2028\t_", "\u00A0\t\u2028\t_\t",
                        "\t\u00A0\t\u2029\t_", "\u00A0\t\u2029\t_\t", "\u1680\u00A0\u1680\n\u1680_", "\u00A0\u1680\n\u1680_\u1680", "\u1680\u00A0\u1680\r\n\u1680_",
                        "\u00A0\u1680\r\n\u1680_\u1680", "\u1680\u00A0\u1680\r\u1680_", "\u00A0\u1680\r\u1680_\u1680", "\u1680\u00A0\u1680\f\u1680_",
                        "\u00A0\u1680\f\u1680_\u1680", "\u1680\u00A0\u1680\u0085\u1680_", "\u00A0\u1680\u0085\u1680_\u1680", "\u1680\u00A0\u1680\u2028\u1680_",
                        "\u00A0\u1680\u2028\u1680_\u1680", "\u1680\u00A0\u1680\u2029\u1680_", "\u00A0\u1680\u2029\u1680_\u1680", "\u00A0\n_", "\u00A0\r\n_", "\u00A0\r_",
                        "\u00A0\f_", "\u00A0\u0085_", "\u00A0\u2028_", "\u00A0\u2029_"),
                new TestData(new String[]{"", "\u00A0"}, " \n \u00A0", "\n \u00A0 ", " \r\n \u00A0", "\r\n \u00A0 ", " \r \u00A0", "\r \u00A0 ", " \f \u00A0",
                        "\f \u00A0 ", " \u0085 \u00A0", "\u0085 \u00A0 ", " \u2028 \u00A0", "\u2028 \u00A0 ", " \u2029 \u00A0", "\u2029 \u00A0 ", "\t\n\t\u00A0",
                        "\n\t\u00A0\t", "\t\r\n\t\u00A0", "\r\n\t\u00A0\t", "\t\r\t\u00A0", "\r\t\u00A0\t", "\t\f\t\u00A0", "\f\t\u00A0\t", "\t\u0085\t\u00A0",
                        "\u0085\t\u00A0\t", "\t\u2028\t\u00A0", "\u2028\t\u00A0\t", "\t\u2029\t\u00A0", "\u2029\t\u00A0\t", "\u1680\n\u1680\u00A0", "\n\u1680\u00A0\u1680",
                        "\u1680\r\n\u1680\u00A0", "\r\n\u1680\u00A0\u1680", "\u1680\r\u1680\u00A0", "\r\u1680\u00A0\u1680", "\u1680\f\u1680\u00A0", "\f\u1680\u00A0\u1680",
                        "\u1680\u0085\u1680\u00A0", "\u0085\u1680\u00A0\u1680", "\u1680\u2028\u1680\u00A0", "\u2028\u1680\u00A0\u1680", "\u1680\u2029\u1680\u00A0",
                        "\u2029\u1680\u00A0\u1680", "\n\u00A0", "\r\n\u00A0", "\r\u00A0", "\f\u00A0", "\u0085\u00A0", "\u2028\u00A0", "\u2029\u00A0"),
                new TestData(new String[]{"", "\u00A0", ""}, "\n \u00A0 \n", " \n \u00A0 \n ", "\r\n \u00A0 \r\n", " \r\n \u00A0 \r\n ", "\r \u00A0 \r",
                        " \r \u00A0 \r ", "\f \u00A0 \f", " \f \u00A0 \f ", "\u0085 \u00A0 \u0085", " \u0085 \u00A0 \u0085 ", "\u2028 \u00A0 \u2028",
                        " \u2028 \u00A0 \u2028 ", "\u2029 \u00A0 \u2029", " \u2029 \u00A0 \u2029 ", "\n\t\u00A0\t\n", "\t\n\t\u00A0\t\n\t", "\r\n\t\u00A0\t\r\n",
                        "\t\r\n\t\u00A0\t\r\n\t", "\r\t\u00A0\t\r", "\t\r\t\u00A0\t\r\t", "\f\t\u00A0\t\f", "\t\f\t\u00A0\t\f\t", "\u0085\t\u00A0\t\u0085",
                        "\t\u0085\t\u00A0\t\u0085\t", "\u2028\t\u00A0\t\u2028", "\t\u2028\t\u00A0\t\u2028\t", "\u2029\t\u00A0\t\u2029", "\t\u2029\t\u00A0\t\u2029\t",
                        "\n\u1680\u00A0\u1680\n", "\u1680\n\u1680\u00A0\u1680\n\u1680", "\r\n\u1680\u00A0\u1680\r\n", "\u1680\r\n\u1680\u00A0\u1680\r\n\u1680",
                        "\r\u1680\u00A0\u1680\r", "\u1680\r\u1680\u00A0\u1680\r\u1680", "\f\u1680\u00A0\u1680\f", "\u1680\f\u1680\u00A0\u1680\f\u1680",
                        "\u0085\u1680\u00A0\u1680\u0085", "\u1680\u0085\u1680\u00A0\u1680\u0085\u1680", "\u2028\u1680\u00A0\u1680\u2028",
                        "\u1680\u2028\u1680\u00A0\u1680\u2028\u1680", "\u2029\u1680\u00A0\u1680\u2029", "\u1680\u2029\u1680\u00A0\u1680\u2029\u1680", "\n\u00A0\n",
                        "\r\n\u00A0\r\n", "\r\u00A0\r", "\f\u00A0\f", "\u0085\u00A0\u0085", "\u2028\u00A0\u2028", "\u2029\u00A0\u2029"),
                new TestData(new String[]{"\u00A0\t_"}, "\u00A0\t_"),
                new TestData(new String[]{"\u00A0\t\t_"}, "\u00A0\t\t_"),
                new TestData(new String[]{"\u00A0\u1680_"}, "\u00A0\u1680_"),
                new TestData(new String[]{"\u00A0\u1680\u1680_"}, "\u00A0\u1680\u1680_"),
                new TestData(new String[]{"\u00A0", "", "_"}, "\u00A0\n\n_", "\u00A0\n\r\n_", "\u00A0\n\r_", "\u00A0\n\f_", "\u00A0\n\u0085_", "\u00A0\n\u2028_",
                        "\u00A0\n\u2029_", "\u00A0\r\n\n_", "\u00A0\r\n\r\n_", "\u00A0\r\n\r_", "\u00A0\r\n\f_", "\u00A0\r\n\u0085_", "\u00A0\r\n\u2028_",
                        "\u00A0\r\n\u2029_", "\u00A0\r\r\n_", "\u00A0\r\r_", "\u00A0\r\f_", "\u00A0\r\u0085_", "\u00A0\r\u2028_", "\u00A0\r\u2029_", "\u00A0\f\n_",
                        "\u00A0\f\r\n_", "\u00A0\f\r_", "\u00A0\f\f_", "\u00A0\f\u0085_", "\u00A0\f\u2028_", "\u00A0\f\u2029_", "\u00A0\u0085\n_", "\u00A0\u0085\r\n_",
                        "\u00A0\u0085\r_", "\u00A0\u0085\f_", "\u00A0\u0085\u0085_", "\u00A0\u0085\u2028_", "\u00A0\u0085\u2029_", "\u00A0\u2028\n_", "\u00A0\u2028\r\n_",
                        "\u00A0\u2028\r_", "\u00A0\u2028\f_", "\u00A0\u2028\u0085_", "\u00A0\u2028\u2028_", "\u00A0\u2028\u2029_", "\u00A0\u2029\n_", "\u00A0\u2029\r\n_",
                        "\u00A0\u2029\r_", "\u00A0\u2029\f_", "\u00A0\u2029\u0085_", "\u00A0\u2029\u2028_", "\u00A0\u2029\u2029_"),
                new TestData(new String[]{"\u00A0", "", ""}, "\u00A0\n\n", "\u00A0\n\r\n", "\u00A0\n\r", "\u00A0\n\f", "\u00A0\n\u0085", "\u00A0\n\u2028",
                        "\u00A0\n\u2029", "\u00A0\r\n\n", "\u00A0\r\n\r\n", "\u00A0\r\n\r", "\u00A0\r\n\f", "\u00A0\r\n\u0085", "\u00A0\r\n\u2028", "\u00A0\r\n\u2029",
                        "\u00A0\r\r\n", "\u00A0\r\r", "\u00A0\r\f", "\u00A0\r\u0085", "\u00A0\r\u2028", "\u00A0\r\u2029", "\u00A0\f\n", "\u00A0\f\r\n", "\u00A0\f\r",
                        "\u00A0\f\f", "\u00A0\f\u0085", "\u00A0\f\u2028", "\u00A0\f\u2029", "\u00A0\u0085\n", "\u00A0\u0085\r\n", "\u00A0\u0085\r", "\u00A0\u0085\f",
                        "\u00A0\u0085\u0085", "\u00A0\u0085\u2028", "\u00A0\u0085\u2029", "\u00A0\u2028\n", "\u00A0\u2028\r\n", "\u00A0\u2028\r", "\u00A0\u2028\f",
                        "\u00A0\u2028\u0085", "\u00A0\u2028\u2028", "\u00A0\u2028\u2029", "\u00A0\u2029\n", "\u00A0\u2029\r\n", "\u00A0\u2029\r", "\u00A0\u2029\f",
                        "\u00A0\u2029\u0085", "\u00A0\u2029\u2028", "\u00A0\u2029\u2029"),
                new TestData(new String[]{"", "", "\u00A0"}, "\n\n\u00A0", "\n\r\n\u00A0", "\n\r\u00A0", "\n\f\u00A0", "\n\u0085\u00A0", "\n\u2028\u00A0",
                        "\n\u2029\u00A0", "\r\n\n\u00A0", "\r\n\r\n\u00A0", "\r\n\r\u00A0", "\r\n\f\u00A0", "\r\n\u0085\u00A0", "\r\n\u2028\u00A0", "\r\n\u2029\u00A0",
                        "\r\r\n\u00A0", "\r\r\u00A0", "\r\f\u00A0", "\r\u0085\u00A0", "\r\u2028\u00A0", "\r\u2029\u00A0", "\f\n\u00A0", "\f\r\n\u00A0", "\f\r\u00A0",
                        "\f\f\u00A0", "\f\u0085\u00A0", "\f\u2028\u00A0", "\f\u2029\u00A0", "\u0085\n\u00A0", "\u0085\r\n\u00A0", "\u0085\r\u00A0", "\u0085\f\u00A0",
                        "\u0085\u0085\u00A0", "\u0085\u2028\u00A0", "\u0085\u2029\u00A0", "\u2028\n\u00A0", "\u2028\r\n\u00A0", "\u2028\r\u00A0", "\u2028\f\u00A0",
                        "\u2028\u0085\u00A0", "\u2028\u2028\u00A0", "\u2028\u2029\u00A0", "\u2029\n\u00A0", "\u2029\r\n\u00A0", "\u2029\r\u00A0", "\u2029\f\u00A0",
                        "\u2029\u0085\u00A0", "\u2029\u2028\u00A0", "\u2029\u2029\u00A0"),
                new TestData(new String[]{"", "", "\u00A0", "", ""}, "\n\n\u00A0\n\n", "\n\r\n\u00A0\n\r\n", "\n\r\u00A0\n\r", "\n\f\u00A0\n\f",
                        "\n\u0085\u00A0\n\u0085", "\n\u2028\u00A0\n\u2028", "\n\u2029\u00A0\n\u2029", "\r\n\n\u00A0\r\n\n", "\r\n\r\n\u00A0\r\n\r\n", "\r\n\r\u00A0\r\n\r",
                        "\r\n\f\u00A0\r\n\f", "\r\n\u0085\u00A0\r\n\u0085", "\r\n\u2028\u00A0\r\n\u2028", "\r\n\u2029\u00A0\r\n\u2029", "\r\r\n\u00A0\r\r\n",
                        "\r\r\u00A0\r\r", "\r\f\u00A0\r\f", "\r\u0085\u00A0\r\u0085", "\r\u2028\u00A0\r\u2028", "\r\u2029\u00A0\r\u2029", "\f\n\u00A0\f\n",
                        "\f\r\n\u00A0\f\r\n", "\f\r\u00A0\f\r", "\f\f\u00A0\f\f", "\f\u0085\u00A0\f\u0085", "\f\u2028\u00A0\f\u2028", "\f\u2029\u00A0\f\u2029",
                        "\u0085\n\u00A0\u0085\n", "\u0085\r\n\u00A0\u0085\r\n", "\u0085\r\u00A0\u0085\r", "\u0085\f\u00A0\u0085\f", "\u0085\u0085\u00A0\u0085\u0085",
                        "\u0085\u2028\u00A0\u0085\u2028", "\u0085\u2029\u00A0\u0085\u2029", "\u2028\n\u00A0\u2028\n", "\u2028\r\n\u00A0\u2028\r\n", "\u2028\r\u00A0\u2028\r",
                        "\u2028\f\u00A0\u2028\f", "\u2028\u0085\u00A0\u2028\u0085", "\u2028\u2028\u00A0\u2028\u2028", "\u2028\u2029\u00A0\u2028\u2029",
                        "\u2029\n\u00A0\u2029\n", "\u2029\r\n\u00A0\u2029\r\n", "\u2029\r\u00A0\u2029\r", "\u2029\f\u00A0\u2029\f", "\u2029\u0085\u00A0\u2029\u0085",
                        "\u2029\u2028\u00A0\u2029\u2028", "\u2029\u2029\u00A0\u2029\u2029")
        };
        for (TestData t : testData) {
            List<String> expected = t.expected;
            t.source.forEach(u -> {
                StringLineIterator target = StringLineIterator.create(u.source, true, true);
                String description = u.description;
                assertTrue(description, target.hasNext());
                String line = target.next();
                String d = String.format("%s, index 0", description);
                assertNotNull(d, line);
                assertFalse(d, line.contains("\n"));
                int index = 0;
                Iterator<String> srcIterator = expected.iterator();
                assertTrue(description, srcIterator.hasNext());
                String exp = srcIterator.next();
                assertEquals(description, exp, line);
                while (target.hasNext()) {
                    line = target.next();
                    d = String.format("%s, index %d", description, ++index);
                    assertTrue(d, srcIterator.hasNext());
                    assertNotNull(d, line);
                    exp = srcIterator.next();
                    assertEquals(d, exp, line);
                }
                assertFalse(srcIterator.hasNext());
            });
        }
    }

    public static class SourceValue {
        private final String source;
        private final String description;

        public SourceValue(String source) {
            this.source = source;
            this.description = TestHelper.toStringDescription(source);
        }

    }

    public static class TestData {

        private static final Pattern NL = Pattern.compile("\\n");
        private final List<SourceValue> source;
        private final List<String> expected;

        public TestData(String[] expected, String... source) {
            List<SourceValue> src = new ArrayList<>();
            List<String> exp = new ArrayList<>();
            for (String s : source) {
                src.add(new SourceValue(s));
            }
            exp.addAll(Arrays.asList(expected));
            this.source = Collections.unmodifiableList(src);
            this.expected = Collections.unmodifiableList(exp);
        }
    }

}